(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[958],{37083:function(e,t,i){"use strict";/**
 * @file Embedded JavaScript templating engine. {@link http://ejs.co}
 * @author Matthew Eernisse <mde@fleegix.org>
 * @author Tiancheng "Timothy" Gu <timothygu99@gmail.com>
 * @project EJS
 * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}
 */var r=i(27790),n=i(1864),a=i(21176),s=!1,o=i(33558).i8,l="locals",u=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],h=u.concat("cache"),c=/^\uFEFF/,d=/^[a-zA-Z_$][0-9a-zA-Z_$]*$/;function resolvePaths(e,i){var n;if(i.some(function(i){return n=t.resolveInclude(e,i,!0),r.existsSync(n)}))return n}function handleCache(e,i){var r,n=e.filename,a=arguments.length>1;if(e.cache){if(!n)throw Error("cache option requires a filename");if(r=t.cache.get(n))return r;a||(i=fileLoader(n).toString().replace(c,""))}else if(!a){if(!n)throw Error("Internal EJS error: no file name or template provided");i=fileLoader(n).toString().replace(c,"")}return r=t.compile(i,e),e.cache&&t.cache.set(n,r),r}function fileLoader(e){return t.fileLoader(e)}function rethrow(e,t,i,r,n){var a=t.split("\n"),s=Math.max(r-3,0),o=Math.min(a.length,r+3),l=n(i),u=a.slice(s,o).map(function(e,t){var i=t+s+1;return(i==r?" >> ":"    ")+i+"| "+e}).join("\n");throw e.path=l,e.message=(l||"ejs")+":"+r+"\n"+u+"\n\n"+e.message,e}function stripSemi(e){return e.replace(/;(\s*$)/,"$1")}function Template(e,i){i=i||a.createNullProtoObjWherePossible();var r=a.createNullProtoObjWherePossible();this.templateText=e,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",r.client=i.client||!1,r.escapeFunction=i.escape||i.escapeFunction||a.escapeXML,r.compileDebug=!1!==i.compileDebug,r.debug=!!i.debug,r.filename=i.filename,r.openDelimiter=i.openDelimiter||t.openDelimiter||"<",r.closeDelimiter=i.closeDelimiter||t.closeDelimiter||">",r.delimiter=i.delimiter||t.delimiter||"%",r.strict=i.strict||!1,r.context=i.context,r.cache=i.cache||!1,r.rmWhitespace=i.rmWhitespace,r.root=i.root,r.includer=i.includer,r.outputFunctionName=i.outputFunctionName,r.localsName=i.localsName||t.localsName||l,r.views=i.views,r.async=i.async,r.destructuredLocals=i.destructuredLocals,r.legacyInclude=void 0===i.legacyInclude||!!i.legacyInclude,r.strict?r._with=!1:r._with=void 0===i._with||i._with,this.opts=r,this.regex=this.createRegex()}t.cache=a.cache,t.fileLoader=r.readFileSync,t.localsName=l,t.promiseImpl=Function("return this;")().Promise,t.resolveInclude=function(e,t,i){var r=n.dirname,a=n.extname,s=(0,n.resolve)(i?t:r(t),e);return a(e)||(s+=".ejs"),s},t.compile=function(e,t){return t&&t.scope&&(s||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),s=!0),t.context||(t.context=t.scope),delete t.scope),new Template(e,t).compile()},t.render=function(e,t,i){var r=t||a.createNullProtoObjWherePossible(),n=i||a.createNullProtoObjWherePossible();return 2==arguments.length&&a.shallowCopyFromList(n,r,u),handleCache(n,e)(r)},t.renderFile=function(){var e,i,r,n=Array.prototype.slice.call(arguments),s=n.shift(),o={filename:s};return"function"==typeof arguments[arguments.length-1]&&(e=n.pop()),n.length?(i=n.shift(),n.length?a.shallowCopy(o,n.pop()):(i.settings&&(i.settings.views&&(o.views=i.settings.views),i.settings["view cache"]&&(o.cache=!0),(r=i.settings["view options"])&&a.shallowCopy(o,r)),a.shallowCopyFromList(o,i,h)),o.filename=s):i=a.createNullProtoObjWherePossible(),function(e,i,r){var n;if(r){try{n=handleCache(e)(i)}catch(e){return r(e)}r(null,n)}else{if("function"==typeof t.promiseImpl)return new t.promiseImpl(function(t,r){try{n=handleCache(e)(i),t(n)}catch(e){r(e)}});throw Error("Please provide a callback function")}}(o,i,e)},t.Template=Template,t.clearCache=function(){t.cache.reset()},Template.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},Template.prototype={createRegex:function(){var e="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",t=a.escapeRegExpChars(this.opts.delimiter),i=a.escapeRegExpChars(this.opts.openDelimiter),r=a.escapeRegExpChars(this.opts.closeDelimiter);return e=e.replace(/%/g,t).replace(/</g,i).replace(/>/g,r),new RegExp(e)},compile:function(){var e,i,s,o=this.opts,l="",u="",h=o.escapeFunction,c=o.filename?JSON.stringify(o.filename):"undefined";if(!this.source){if(this.generateSource(),l+='  var __output = "";\n  function __append(s) { if (s !== undefined && s !== null) __output += s }\n',o.outputFunctionName){if(!d.test(o.outputFunctionName))throw Error("outputFunctionName is not a valid JS identifier.");l+="  var "+o.outputFunctionName+" = __append;\n"}if(o.localsName&&!d.test(o.localsName))throw Error("localsName is not a valid JS identifier.");if(o.destructuredLocals&&o.destructuredLocals.length){for(var f="  var __locals = ("+o.localsName+" || {}),\n",g=0;g<o.destructuredLocals.length;g++){var p=o.destructuredLocals[g];if(!d.test(p))throw Error("destructuredLocals["+g+"] is not a valid JS identifier.");g>0&&(f+=",\n  "),f+=p+" = __locals."+p}l+=f+";\n"}!1!==o._with&&(l+="  with ("+o.localsName+" || {}) {\n",u+="  }\n"),u+="  return __output;\n",this.source=l+this.source+u}e=o.compileDebug?"var __line = 1\n  , __lines = "+JSON.stringify(this.templateText)+"\n  , __filename = "+c+";\ntry {\n"+this.source+"} catch (e) {\n  rethrow(e, __lines, __filename, __line, escapeFn);\n}\n":this.source,o.client&&(e="escapeFn = escapeFn || "+h.toString()+";\n"+e,o.compileDebug&&(e="rethrow = rethrow || "+rethrow.toString()+";\n"+e)),o.strict&&(e='"use strict";\n'+e),o.debug&&console.log(e),o.compileDebug&&o.filename&&(e=e+"\n//# sourceURL="+c+"\n");try{if(o.async)try{s=Function("return (async function(){}).constructor;")()}catch(e){if(e instanceof SyntaxError)throw Error("This environment does not support async/await");throw e}else s=Function;i=new s(o.localsName+", escapeFn, include, rethrow",e)}catch(e){throw e instanceof SyntaxError&&(o.filename&&(e.message+=" in "+o.filename),e.message+=" while compiling ejs\n\n",e.message+="If the above error is not helpful, you may want to try EJS-Lint:\n",e.message+="https://github.com/RyanZim/EJS-Lint",o.async||(e.message+="\n",e.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),e}var _=o.client?i:function(e){return i.apply(o.context,[e||a.createNullProtoObjWherePossible(),h,function(i,n){var s=a.shallowCopy(a.createNullProtoObjWherePossible(),e);return n&&(s=a.shallowCopy(s,n)),(function(e,i){var n=a.shallowCopy(a.createNullProtoObjWherePossible(),i);if(n.filename=function(e,i){var n,a,s=i.views,o=/^[A-Za-z]+:\\|^\//.exec(e);if(o&&o.length)e=e.replace(/^\/*/,""),n=Array.isArray(i.root)?resolvePaths(e,i.root):t.resolveInclude(e,i.root||"/",!0);else if(i.filename&&(a=t.resolveInclude(e,i.filename),r.existsSync(a)&&(n=a)),!n&&Array.isArray(s)&&(n=resolvePaths(e,s)),!n&&"function"!=typeof i.includer)throw Error('Could not find the include file "'+i.escapeFunction(e)+'"');return n}(e,n),"function"==typeof i.includer){var s=i.includer(e,n.filename);if(s&&(s.filename&&(n.filename=s.filename),s.template))return handleCache(n,s.template)}return handleCache(n)})(i,o)(s)},rethrow])};if(o.filename&&"function"==typeof Object.defineProperty){var m=o.filename,y=n.basename(m,n.extname(m));try{Object.defineProperty(_,"name",{value:y,writable:!1,enumerable:!1,configurable:!0})}catch(e){}}return _},generateSource:function(){this.opts.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,"\n").replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var e=this,t=this.parseTemplateText(),i=this.opts.delimiter,r=this.opts.openDelimiter,n=this.opts.closeDelimiter;t&&t.length&&t.forEach(function(a,s){var o;if(0===a.indexOf(r+i)&&0!==a.indexOf(r+i+i)&&!((o=t[s+2])==i+n||o=="-"+i+n||o=="_"+i+n))throw Error('Could not find matching close tag for "'+a+'".');e.scanLine(a)})},parseTemplateText:function(){for(var e,t=this.templateText,i=this.regex,r=i.exec(t),n=[];r;)0!==(e=r.index)&&(n.push(t.substring(0,e)),t=t.slice(e)),n.push(r[0]),t=t.slice(r[0].length),r=i.exec(t);return t&&n.push(t),n},_addOutput:function(e){if(this.truncate&&(e=e.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!e)return e;e=(e=(e=(e=e.replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\r/g,"\\r")).replace(/"/g,'\\"'),this.source+='    ; __append("'+e+'")\n'},scanLine:function(e){var t=this.opts.delimiter,i=this.opts.openDelimiter,r=this.opts.closeDelimiter,n=0;switch(n=e.split("\n").length-1,e){case i+t:case i+t+"_":this.mode=Template.modes.EVAL;break;case i+t+"=":this.mode=Template.modes.ESCAPED;break;case i+t+"-":this.mode=Template.modes.RAW;break;case i+t+"#":this.mode=Template.modes.COMMENT;break;case i+t+t:this.mode=Template.modes.LITERAL,this.source+='    ; __append("'+e.replace(i+t+t,i+t)+'")\n';break;case t+t+r:this.mode=Template.modes.LITERAL,this.source+='    ; __append("'+e.replace(t+t+r,t+r)+'")\n';break;case t+r:case"-"+t+r:case"_"+t+r:this.mode==Template.modes.LITERAL&&this._addOutput(e),this.mode=null,this.truncate=0===e.indexOf("-")||0===e.indexOf("_");break;default:if(this.mode){switch(this.mode){case Template.modes.EVAL:case Template.modes.ESCAPED:case Template.modes.RAW:e.lastIndexOf("//")>e.lastIndexOf("\n")&&(e+="\n")}switch(this.mode){case Template.modes.EVAL:this.source+="    ; "+e+"\n";break;case Template.modes.ESCAPED:this.source+="    ; __append(escapeFn("+stripSemi(e)+"))\n";break;case Template.modes.RAW:this.source+="    ; __append("+stripSemi(e)+")\n";break;case Template.modes.COMMENT:break;case Template.modes.LITERAL:this._addOutput(e)}}else this._addOutput(e)}this.opts.compileDebug&&n&&(this.currentLine+=n,this.source+="    ; __line = "+this.currentLine+"\n")}},t.escapeXML=a.escapeXML,t.__express=t.renderFile,t.VERSION=o,t.name="ejs","undefined"!=typeof window&&(window.ejs=t)},21176:function(e,t){"use strict";var i=/[|\\{}()[\]^$+*?.]/g,r=Object.prototype.hasOwnProperty,hasOwn=function(e,t){return r.apply(e,[t])};t.escapeRegExpChars=function(e){return e?String(e).replace(i,"\\$&"):""};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},a=/[&<>'"]/g;function encode_char(e){return n[e]||e}function escapeXMLToString(){return Function.prototype.toString.call(this)+';\nvar _ENCODE_HTML_RULES = {\n      "&": "&amp;"\n    , "<": "&lt;"\n    , ">": "&gt;"\n    , \'"\': "&#34;"\n    , "\'": "&#39;"\n    }\n  , _MATCH_HTML = /[&<>\'"]/g;\nfunction encode_char(c) {\n  return _ENCODE_HTML_RULES[c] || c;\n};\n'}t.escapeXML=function(e){return void 0==e?"":String(e).replace(a,encode_char)};try{"function"==typeof Object.defineProperty?Object.defineProperty(t.escapeXML,"toString",{value:escapeXMLToString}):t.escapeXML.toString=escapeXMLToString}catch(e){console.warn("Unable to set escapeXML.toString (is the Function prototype frozen?)")}t.shallowCopy=function(e,t){if(t=t||{},null!=e)for(var i in t)hasOwn(t,i)&&"__proto__"!==i&&"constructor"!==i&&(e[i]=t[i]);return e},t.shallowCopyFromList=function(e,t,i){if(i=i||[],t=t||{},null!=e)for(var r=0;r<i.length;r++){var n=i[r];if(void 0!==t[n]){if(!hasOwn(t,n)||"__proto__"===n||"constructor"===n)continue;e[n]=t[n]}}return e},t.cache={_data:{},set:function(e,t){this._data[e]=t},get:function(e){return this._data[e]},remove:function(e){delete this._data[e]},reset:function(){this._data={}}},t.hyphenToCamel=function(e){return e.replace(/-[a-z]/g,function(e){return e[1].toUpperCase()})},t.createNullProtoObjWherePossible="function"==typeof Object.create?function(){return Object.create(null)}:function(){return{}}},1864:function(e){!function(){"use strict";var t={114:function(e){function assertPath(e){if("string"!=typeof e)throw TypeError("Path must be a string. Received "+JSON.stringify(e))}function normalizeStringPosix(e,t){for(var i,r="",n=0,a=-1,s=0,o=0;o<=e.length;++o){if(o<e.length)i=e.charCodeAt(o);else if(47===i)break;else i=47;if(47===i){if(a===o-1||1===s);else if(a!==o-1&&2===s){if(r.length<2||2!==n||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2)){if(r.length>2){var l=r.lastIndexOf("/");if(l!==r.length-1){-1===l?(r="",n=0):n=(r=r.slice(0,l)).length-1-r.lastIndexOf("/"),a=o,s=0;continue}}else if(2===r.length||1===r.length){r="",n=0,a=o,s=0;continue}}t&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+="/"+e.slice(a+1,o):r=e.slice(a+1,o),n=o-a-1;a=o,s=0}else 46===i&&-1!==s?++s:s=-1}return r}var t={resolve:function(){for(var e,t,i="",r=!1,n=arguments.length-1;n>=-1&&!r;n--)n>=0?t=arguments[n]:(void 0===e&&(e=""),t=e),assertPath(t),0!==t.length&&(i=t+"/"+i,r=47===t.charCodeAt(0));return(i=normalizeStringPosix(i,!r),r)?i.length>0?"/"+i:"/":i.length>0?i:"."},normalize:function(e){if(assertPath(e),0===e.length)return".";var t=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return(0!==(e=normalizeStringPosix(e,!t)).length||t||(e="."),e.length>0&&i&&(e+="/"),t)?"/"+e:e},isAbsolute:function(e){return assertPath(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0==arguments.length)return".";for(var e,i=0;i<arguments.length;++i){var r=arguments[i];assertPath(r),r.length>0&&(void 0===e?e=r:e+="/"+r)}return void 0===e?".":t.normalize(e)},relative:function(e,i){if(assertPath(e),assertPath(i),e===i||(e=t.resolve(e))===(i=t.resolve(i)))return"";for(var r=1;r<e.length&&47===e.charCodeAt(r);++r);for(var n=e.length,a=n-r,s=1;s<i.length&&47===i.charCodeAt(s);++s);for(var o=i.length-s,l=a<o?a:o,u=-1,h=0;h<=l;++h){if(h===l){if(o>l){if(47===i.charCodeAt(s+h))return i.slice(s+h+1);if(0===h)return i.slice(s+h)}else a>l&&(47===e.charCodeAt(r+h)?u=h:0===h&&(u=0));break}var c=e.charCodeAt(r+h);if(c!==i.charCodeAt(s+h))break;47===c&&(u=h)}var d="";for(h=r+u+1;h<=n;++h)(h===n||47===e.charCodeAt(h))&&(0===d.length?d+="..":d+="/..");return d.length>0?d+i.slice(s+u):(s+=u,47===i.charCodeAt(s)&&++s,i.slice(s))},_makeLong:function(e){return e},dirname:function(e){if(assertPath(e),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,r=-1,n=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!n){r=a;break}}else n=!1;return -1===r?i?"/":".":i&&1===r?"//":e.slice(0,r)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw TypeError('"ext" argument must be a string');assertPath(e);var i,r=0,n=-1,a=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var s=t.length-1,o=-1;for(i=e.length-1;i>=0;--i){var l=e.charCodeAt(i);if(47===l){if(!a){r=i+1;break}}else -1===o&&(a=!1,o=i+1),s>=0&&(l===t.charCodeAt(s)?-1==--s&&(n=i):(s=-1,n=o))}return r===n?n=o:-1===n&&(n=e.length),e.slice(r,n)}for(i=e.length-1;i>=0;--i)if(47===e.charCodeAt(i)){if(!a){r=i+1;break}}else -1===n&&(a=!1,n=i+1);return -1===n?"":e.slice(r,n)},extname:function(e){assertPath(e);for(var t=-1,i=0,r=-1,n=!0,a=0,s=e.length-1;s>=0;--s){var o=e.charCodeAt(s);if(47===o){if(!n){i=s+1;break}continue}-1===r&&(n=!1,r=s+1),46===o?-1===t?t=s:1!==a&&(a=1):-1!==t&&(a=-1)}return -1===t||-1===r||0===a||1===a&&t===r-1&&t===i+1?"":e.slice(t,r)},format:function(e){var t,i;if(null===e||"object"!=typeof e)throw TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return t=e.dir||e.root,i=e.base||(e.name||"")+(e.ext||""),t?t===e.root?t+i:t+"/"+i:i},parse:function(e){assertPath(e);var t,i={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return i;var r=e.charCodeAt(0),n=47===r;n?(i.root="/",t=1):t=0;for(var a=-1,s=0,o=-1,l=!0,u=e.length-1,h=0;u>=t;--u){if(47===(r=e.charCodeAt(u))){if(!l){s=u+1;break}continue}-1===o&&(l=!1,o=u+1),46===r?-1===a?a=u:1!==h&&(h=1):-1!==a&&(h=-1)}return -1===a||-1===o||0===h||1===h&&a===o-1&&a===s+1?-1!==o&&(0===s&&n?i.base=i.name=e.slice(1,o):i.base=i.name=e.slice(s,o)):(0===s&&n?(i.name=e.slice(1,a),i.base=e.slice(1,o)):(i.name=e.slice(s,a),i.base=e.slice(s,o)),i.ext=e.slice(a,o)),s>0?i.dir=e.slice(0,s-1):n&&(i.dir="/"),i},sep:"/",delimiter:":",win32:null,posix:null};t.posix=t,e.exports=t}},i={};function __nccwpck_require__(e){var r=i[e];if(void 0!==r)return r.exports;var n=i[e]={exports:{}},a=!0;try{t[e](n,n.exports,__nccwpck_require__),a=!1}finally{a&&delete i[e]}return n.exports}__nccwpck_require__.ab="//";var r=__nccwpck_require__(114);e.exports=r}()},67462:function(e,t,i){var r=i(21876).Buffer,n=i(82825),a=i(25293).EventEmitter,s=i(79720),o=e.exports=function(e,t){if(!(this instanceof o))return new o(e,t);a.call(this),(t=t||{}).maxLineLength=t.maxLineLength||4096,t.retainBuffer=!!t.retainBuffer;var i=this,s=new r(t.maxLineLength),l=0,u=0,h=0,emit=function(e,r){try{var n=s.slice(0,l);i.emit("line",t.retainBuffer?n:n.toString(),e,r)}catch(e){i.emit("error",e)}finally{l=0}};this.input="string"==typeof e?n.createReadStream(e,t):e,this.input.on("open",function(e){i.emit("open",e)}).on("data",function(e){for(var t=0;t<e.length;t++)10==e[t]||13==e[t]?10==e[t]&&emit(++u,h):(s[l]=e[t],l++),h++}).on("error",function(e){i.emit("error",e)}).on("end",function(){l&&emit(++u,h),i.emit("end")}).on("close",function(){i.emit("close")})};s.inherits(o,a)},35438:function(e){"use strict";let t={get:function(e,t){return isNaN(t)?e[t]:e.getElement(t)},set:function(e,t,i){return isNaN(t)?(e[t]=i,!0):e.setElement(t,i)}};let _BigArray=class _BigArray{constructor(e){this.length=e||0,this.arr=Array(262144);for(let t=0;t<e;t+=262144)this.arr[t/262144]=Array(Math.min(262144,e-t));return this}push(){for(let e=0;e<arguments.length;e++)this.setElement(this.length,arguments[e])}slice(e,t){let i=Array(t-e);for(let r=e;r<t;r++)i[r-e]=this.getElement(r);return i}getElement(e){e=parseInt(e);let t=Math.floor(e/262144),i=e%262144;return this.arr[t]?this.arr[t][i]:void 0}setElement(e,t){e=parseInt(e);let i=Math.floor(e/262144);this.arr[i]||(this.arr[i]=Array(262144));let r=e%262144;return this.arr[i][r]=t,e>=this.length&&(this.length=e+1),!0}getKeys(){let e=new BigArray;for(let t=0;t<this.arr.length;t++)if(this.arr[t])for(let i=0;i<this.arr[t].length;i++)void 0!==this.arr[t][i]&&e.push(262144*t+i);return e}};let BigArray=class BigArray{constructor(e){let i=new _BigArray(e),r=new Proxy(i,t);return r}};e.exports=BigArray},42223:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(80496),n=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(i){if("default"!==i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}}),t.default=e,Object.freeze(t)}(i(67172));async function readBinFile(e,t,i,r,a){let s=await n.readExisting(e,r,a),o=await s.read(4),l="";for(let e=0;e<4;e++)l+=String.fromCharCode(o[e]);if(l!=t)throw Error(e+": Invalid File format");if(await s.readULE32()>i)throw Error("Version not supported");let u=await s.readULE32(),h=[];for(let e=0;e<u;e++){let e=await s.readULE32(),t=await s.readULE64();void 0===h[e]&&(h[e]=[]),h[e].push({p:s.pos,size:t}),s.pos+=t}return{fd:s,sections:h}}async function createBinFile(e,t,i,r,a,s){let o=await n.createOverride(e,a,s),l=new Uint8Array(4);for(let e=0;e<4;e++)l[e]=t.charCodeAt(e);return await o.write(l,0),await o.writeULE32(i),await o.writeULE32(r),o}async function startWriteSection(e,t){if(void 0!==e.writingSection)throw Error("Already writing a section");await e.writeULE32(t),e.writingSection={pSectionSize:e.pos},await e.writeULE64(0)}async function endWriteSection(e){if(void 0===e.writingSection)throw Error("Not writing a section");let t=e.pos-e.writingSection.pSectionSize-8,i=e.pos;e.pos=e.writingSection.pSectionSize,await e.writeULE64(t),e.pos=i,delete e.writingSection}async function startReadUniqueSection(e,t,i){if(void 0!==e.readingSection)throw Error("Already reading a section");if(!t[i])throw Error(e.fileName+": Missing section "+i);if(t[i].length>1)throw Error(e.fileName+": Section Duplicated "+i);e.pos=t[i][0].p,e.readingSection=t[i][0]}async function endReadSection(e,t){if(void 0===e.readingSection)throw Error("Not reading a section");if(!t&&e.pos-e.readingSection.p!=e.readingSection.size)throw Error("Invalid section size reading");delete e.readingSection}async function writeBigInt(e,t,i,n){let a=new Uint8Array(i);r.Scalar.toRprLE(a,0,t,i),await e.write(a,n)}async function readBigInt(e,t,i){let n=await e.read(t,i);return r.Scalar.fromRprLE(n,0,t)}async function copySection(e,t,i,r,n){void 0===n&&(n=t[r][0].size);let a=e.pageSize;await startReadUniqueSection(e,t,r),await startWriteSection(i,r);for(let t=0;t<n;t+=a){let r=Math.min(n-t,a),s=await e.read(r);await i.write(s)}await endWriteSection(i),await endReadSection(e,n!=t[r][0].size)}async function readSection(e,t,i,n,a){let s;if(n=void 0===n?0:n,a=void 0===a?t[i][0].size-n:a,n+a>t[i][0].size)throw Error("Reading out of the range of the section");return s=a<1073741824?new Uint8Array(a):new r.BigBuffer(a),await e.readToBuffer(s,0,a,t[i][0].p+n),s}async function sectionIsEqual(e,t,i,r,n){let a=16*e.pageSize;if(await startReadUniqueSection(e,t,n),await startReadUniqueSection(i,r,n),t[n][0].size!=r[n][0].size)return!1;let s=t[n][0].size;for(let t=0;t<s;t+=a){let r=Math.min(s-t,a),n=await e.read(r),o=await i.read(r);for(let e=0;e<r;e++)if(n[e]!=o[e])return!1}return await endReadSection(e),await endReadSection(i),!0}t.copySection=copySection,t.createBinFile=createBinFile,t.endReadSection=endReadSection,t.endWriteSection=endWriteSection,t.readBigInt=readBigInt,t.readBinFile=readBinFile,t.readSection=readSection,t.sectionIsEqual=sectionIsEqual,t.startReadUniqueSection=startReadUniqueSection,t.startWriteSection=startWriteSection,t.writeBigInt=writeBigInt},95131:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(80496);function flatArray(e){var t=[];return function fillArray(e,t){if(Array.isArray(t))for(let i=0;i<t.length;i++)fillArray(e,t[i]);else e.push(t)}(t,e),t}function fnvHash(e){let t=BigInt(2)**BigInt(64),i=BigInt("0xCBF29CE484222325");for(var r=0;r<e.length;r++)i^=BigInt(e[r].charCodeAt()),i*=BigInt(1099511628211),i%=t;let n=i.toString(16),a=16-n.length;return"0".repeat(a).concat(n)}async function builder(e,t){let i,n;t=t||{};let a=32767,s=!1;for(;!s;)try{i=new WebAssembly.Memory({initial:a}),s=!0}catch(e){if(1===a)throw e;console.warn("Could not allocate "+65536*a+" bytes. This may cause severe instability. Trying with "+65536*a/2+" bytes"),a=Math.floor(a/2)}let o=await WebAssembly.compile(e),l="",u="",h=1,c=0,d=0,f=await WebAssembly.instantiate(o,{env:{memory:i},runtime:{exceptionHandler:function(e){throw console.error("ERROR: ",e,l),Error((1==e?"Signal not found. ":2==e?"Too many signals set. ":3==e?"Signal already set. ":4==e?"Assert Failed. ":5==e?"Not enough memory. ":6==e?"Input signal array access exceeds the size. ":"Unknown error. ")+l)},printErrorMessage:function(){l+=getMessage()+"\n"},writeBufferMessage:function(){let e=getMessage();"\n"===e?(console.log(u),u=""):(""!==u&&(u+=" "),u+=e)},showSharedRWMemory:function(){let e=f.exports.getFieldNumLen32(),t=new Uint32Array(e);for(let i=0;i<e;i++)t[e-1-i]=f.exports.readSharedRWMemory(i);if(h>=2&&(c>=1||d>=7)){""!==u&&(u+=" ");let e=r.Scalar.fromArray(t,4294967296).toString();u+=e}else console.log(r.Scalar.fromArray(t,4294967296))},error:function(e,i,r,a,s,o){let l;throw l=7==e?p2str(i)+" "+n.getFr(a).toString()+" != "+n.getFr(s).toString()+" "+p2str(o):9==e?p2str(i)+" "+n.getFr(a).toString()+" "+p2str(s):5==e&&t.sym?p2str(i)+" "+t.sym.labelIdx2Name[s]:p2str(i)+" "+r+" "+a+" "+s+" "+o,console.log("ERROR: ",e,l),Error(l)},log:function(e){console.log(n.getFr(e).toString())},logGetSignal:function(e,i){t.logGetSignal&&t.logGetSignal(e,n.getFr(i))},logSetSignal:function(e,i){t.logSetSignal&&t.logSetSignal(e,n.getFr(i))},logStartComponent:function(e){t.logStartComponent&&t.logStartComponent(e)},logFinishComponent:function(e){t.logFinishComponent&&t.logFinishComponent(e)}}});"function"==typeof f.exports.getVersion&&(h=f.exports.getVersion()),"function"==typeof f.exports.getMinorVersion&&(c=f.exports.getMinorVersion()),"function"==typeof f.exports.getPatchVersion&&(d=f.exports.getPatchVersion());let g=t&&(t.sanityCheck||t.logGetSignal||t.logSetSignal||t.logStartComponent||t.logFinishComponent);return n=2===h?new WitnessCalculatorCircom2(f,g):new WitnessCalculatorCircom1(i,f,g);function getMessage(){for(var e="",t=f.exports.getMessageChar();0!=t;)e+=String.fromCharCode(t),t=f.exports.getMessageChar();return e}function p2str(e){let t=new Uint8Array(i.buffer),r=[];for(let i=0;t[e+i]>0;i++)r.push(t[e+i]);return String.fromCharCode.apply(null,r)}}let WitnessCalculatorCircom1=class WitnessCalculatorCircom1{constructor(e,t,i){this.memory=e,this.i32=new Uint32Array(e.buffer),this.instance=t,this.n32=(this.instance.exports.getFrLen()>>2)-2;let n=this.instance.exports.getPRawPrime(),a=Array(this.n32);for(let e=0;e<this.n32;e++)a[this.n32-1-e]=this.i32[(n>>2)+e];this.prime=r.Scalar.fromArray(a,4294967296),this.Fr=new r.F1Field(this.prime),this.mask32=r.Scalar.fromString("FFFFFFFF",16),this.NVars=this.instance.exports.getNVars(),this.n64=Math.floor((this.Fr.bitLength-1)/64)+1,this.R=this.Fr.e(r.Scalar.shiftLeft(1,64*this.n64)),this.RInv=this.Fr.inv(this.R),this.sanityCheck=i}circom_version(){return 1}async _doCalculateWitness(e,t){this.instance.exports.init(this.sanityCheck||t?1:0);let i=this.allocInt(),r=this.allocFr(),n=Object.keys(e);n.forEach(t=>{let n=fnvHash(t),a=parseInt(n.slice(0,8),16),s=parseInt(n.slice(8,16),16);try{this.instance.exports.getSignalOffset32(i,0,a,s)}catch(e){throw Error(`Signal ${t} is not an input of the circuit.`)}let o=this.getInt(i),l=flatArray(e[t]);for(let e=0;e<l.length;e++)this.setFr(r,l[e]),this.instance.exports.setSignal(0,0,o+e,r)})}async calculateWitness(e,t){let i=this.i32[0],r=[];await this._doCalculateWitness(e,t);for(let e=0;e<this.NVars;e++){let t=this.instance.exports.getPWitness(e);r.push(this.getFr(t))}return this.i32[0]=i,r}async calculateBinWitness(e,t){let i=this.i32[0];await this._doCalculateWitness(e,t);let r=this.instance.exports.getWitnessBuffer();this.i32[0]=i;let n=this.memory.buffer.slice(r,r+this.NVars*this.n64*8);return new Uint8Array(n)}allocInt(){let e=this.i32[0];return this.i32[0]=e+8,e}allocFr(){let e=this.i32[0];return this.i32[0]=e+4*this.n32+8,e}getInt(e){return this.i32[e>>2]}setInt(e,t){this.i32[e>>2]=t}getFr(e){let t=e>>2;if(2147483648&this.i32[t+1]){let e=Array(this.n32);for(let i=0;i<this.n32;i++)e[this.n32-1-i]=this.i32[t+2+i];let i=this.Fr.e(r.Scalar.fromArray(e,4294967296));return 1073741824&this.i32[t+1]?this.Fr.mul(this.RInv,i):i}return 2147483648&this.i32[t]?this.Fr.e(this.i32[t]-4294967296):this.Fr.e(this.i32[t])}setFr(e,t){t=this.Fr.e(t);let i=this.Fr.neg(this.Fr.e("80000000",16)),n=this.Fr.e("7FFFFFFF",16);if(this.Fr.geq(t,i)&&this.Fr.leq(t,n)){let n;n=this.Fr.geq(t,this.Fr.zero)?r.Scalar.toNumber(t):4294967296+(n=r.Scalar.toNumber(this.Fr.sub(t,i))-2147483648),this.i32[e>>2]=n,this.i32[(e>>2)+1]=0;return}this.i32[e>>2]=0,this.i32[(e>>2)+1]=2147483648;let a=r.Scalar.toArray(t,4294967296);for(let t=0;t<this.n32;t++){let i=a.length-1-t;i>=0?this.i32[(e>>2)+2+t]=a[i]:this.i32[(e>>2)+2+t]=0}}};let WitnessCalculatorCircom2=class WitnessCalculatorCircom2{constructor(e,t){this.instance=e,this.version=this.instance.exports.getVersion(),this.n32=this.instance.exports.getFieldNumLen32(),this.instance.exports.getRawPrime();let i=Array(this.n32);for(let e=0;e<this.n32;e++)i[this.n32-1-e]=this.instance.exports.readSharedRWMemory(e);this.prime=r.Scalar.fromArray(i,4294967296),this.witnessSize=this.instance.exports.getWitnessSize(),this.sanityCheck=t}circom_version(){return this.instance.exports.getVersion()}async _doCalculateWitness(e,t){this.instance.exports.init(this.sanityCheck||t?1:0);let i=Object.keys(e);var r=0;if(i.forEach(t=>{let i=fnvHash(t),n=parseInt(i.slice(0,8),16),a=parseInt(i.slice(8,16),16),s=flatArray(e[t]);for(let e=0;e<s.length;e++){let t=function(e,t){let i=[],r=BigInt(e),n=BigInt(4294967296);for(;r;)i.unshift(Number(r%n)),r/=n;if(t)for(var a=t-i.length;a>0;)i.unshift(0),a--;return i}(s[e],this.n32);for(let e=0;e<this.n32;e++)this.instance.exports.writeSharedRWMemory(e,t[this.n32-1-e]);try{this.instance.exports.setInputSignal(n,a,e),r++}catch(e){throw Error(e)}}}),r<this.instance.exports.getInputSize())throw Error(`Not all inputs have been set. Only ${r} out of ${this.instance.exports.getInputSize()}`)}async calculateWitness(e,t){let i=[];await this._doCalculateWitness(e,t);for(let e=0;e<this.witnessSize;e++){this.instance.exports.getWitness(e);let t=new Uint32Array(this.n32);for(let e=0;e<this.n32;e++)t[this.n32-1-e]=this.instance.exports.readSharedRWMemory(e);i.push(r.Scalar.fromArray(t,4294967296))}return i}async calculateWTNSBin(e,t){let i=new Uint32Array(this.witnessSize*this.n32+this.n32+11),r=new Uint8Array(i.buffer);await this._doCalculateWitness(e,t),r[0]=119,r[1]=116,r[2]=110,r[3]=115,i[1]=2,i[2]=2,i[3]=1;let n=4*this.n32,a=8+n,s=a.toString(16);i[4]=parseInt(s.slice(0,8),16),i[5]=parseInt(s.slice(8,16),16),i[6]=n,this.instance.exports.getRawPrime();var o=7;for(let e=0;e<this.n32;e++)i[o+e]=this.instance.exports.readSharedRWMemory(e);i[o+=this.n32]=this.witnessSize,i[++o]=2,o++;let l=n*this.witnessSize,u=l.toString(16);i[o]=parseInt(u.slice(0,8),16),i[o+1]=parseInt(u.slice(8,16),16),o+=2;for(let e=0;e<this.witnessSize;e++){this.instance.exports.getWitness(e);for(let e=0;e<this.n32;e++)i[o+e]=this.instance.exports.readSharedRWMemory(e);o+=this.n32}return r}};t.WitnessCalculatorBuilder=builder},67172:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,n=(r=i(95979))&&"object"==typeof r&&"default"in r?r.default:r,a=i(2454);async function open(e,t,i,r){if(i=i||262144,"number"!=typeof t&&0>["w+","wx+","r","ax+","a+"].indexOf(t))throw Error("Invalid open option");let a=await n.promises.open(e,t),s=await a.stat();return new FastFile(a,s,i,r,e)}let FastFile=class FastFile{constructor(e,t,i,r,n){for(this.fileName=n,this.fd=e,this.pos=0,this.pageSize=r||256;this.pageSize<t.blksize;)this.pageSize*=2;this.totalSize=t.size,this.totalPages=Math.floor((t.size-1)/this.pageSize)+1,this.maxPagesLoaded=Math.floor(i/this.pageSize)+1,this.pages={},this.pendingLoads=[],this.writing=!1,this.reading=!1,this.avBuffs=[],this.history={}}_loadPage(e){let t=this,i=new Promise((i,r)=>{t.pendingLoads.push({page:e,resolve:i,reject:r})});return t.__statusPage("After Load request: ",e),i}__statusPage(e,t){let i=[];if(!this.logHistory)return;i.push("=="+e+" "+t);let r="";for(let e=0;e<this.pendingLoads.length;e++)this.pendingLoads[e].page==t&&(r=r+" "+e);if(r&&i.push("Pending loads:"+r),void 0!==this.pages[t]){let e=this.pages[t];i.push("Loaded"),i.push("pendingOps: "+e.pendingOps),e.loading&&i.push("loading: "+e.loading),e.writing&&i.push("writing"),e.dirty&&i.push("dirty")}i.push("=="),this.history[t]||(this.history[t]=[]),this.history[t].push(i)}__printHistory(e){this.history[e]||console.log("Empty History ",e),console.log("History "+e);for(let t=0;t<this.history[e].length;t++)for(let i=0;i<this.history[e][t].length;i++)console.log("-> "+this.history[e][t][i])}_triggerLoad(){let e=this;if(e.reading||0==e.pendingLoads.length)return;let t=Object.keys(e.pages),i=[];for(let r=0;r<t.length;r++){let n=e.pages[parseInt(t[r])];!1!=n.dirty||0!=n.pendingOps||n.writing||n.loading||i.push(parseInt(t[r]))}let r=e.maxPagesLoaded-t.length,n=[];for(;e.pendingLoads.length>0&&(void 0!==e.pages[e.pendingLoads[0].page]||r>0||i.length>0);){let t=e.pendingLoads.shift();if(void 0!==e.pages[t.page]){e.pages[t.page].pendingOps++;let r=i.indexOf(t.page);r>=0&&i.splice(r,1),e.pages[t.page].loading?e.pages[t.page].loading.push(t):t.resolve(),e.__statusPage("After Load (cached): ",t.page)}else{if(r)r--;else{let t=i.shift();e.__statusPage("Before Unload: ",t),e.avBuffs.unshift(e.pages[t]),delete e.pages[t],e.__statusPage("After Unload: ",t)}t.page>=e.totalPages?(e.pages[t.page]=getNewPage(),t.resolve(),e.__statusPage("After Load (new): ",t.page)):(e.reading=!0,e.pages[t.page]=getNewPage(),e.pages[t.page].loading=[t],n.push(e.fd.read(e.pages[t.page].buff,0,e.pageSize,t.page*e.pageSize).then(i=>{e.pages[t.page].size=i.bytesRead;let r=e.pages[t.page].loading;delete e.pages[t.page].loading;for(let e=0;e<r.length;e++)r[e].resolve();return e.__statusPage("After Load (loaded): ",t.page),i},e=>{t.reject(e)})),e.__statusPage("After Load (loading): ",t.page))}}function getNewPage(){if(!(e.avBuffs.length>0))return{dirty:!1,buff:new Uint8Array(e.pageSize),pendingOps:1,size:0};{let t=e.avBuffs.shift();return t.dirty=!1,t.pendingOps=1,t.size=0,t}}Promise.all(n).then(()=>{e.reading=!1,e.pendingLoads.length>0&&setImmediate(e._triggerLoad.bind(e)),e._tryClose()})}_triggerWrite(){let e=this;if(e.writing)return;let t=Object.keys(e.pages),i=[];for(let r=0;r<t.length;r++){let n=e.pages[parseInt(t[r])];n.dirty&&(n.dirty=!1,n.writing=!0,e.writing=!0,i.push(e.fd.write(n.buff,0,n.size,parseInt(t[r])*e.pageSize).then(()=>{n.writing=!1},t=>{console.log("ERROR Writing: "+t),e.error=t,e._tryClose()})))}e.writing&&Promise.all(i).then(()=>{e.writing=!1,setImmediate(e._triggerWrite.bind(e)),e._tryClose(),e.pendingLoads.length>0&&setImmediate(e._triggerLoad.bind(e))})}_getDirtyPage(){for(let e in this.pages)if(this.pages[e].dirty)return e;return -1}async write(e,t){if(0==e.byteLength)return;if(void 0===t&&(t=this.pos),this.pos=t+e.byteLength,this.totalSize<t+e.byteLength&&(this.totalSize=t+e.byteLength),this.pendingClose)throw Error("Writing a closing file");let i=Math.floor(t/this.pageSize),r=Math.floor((t+e.byteLength-1)/this.pageSize),n=[];for(let e=i;e<=r;e++)n.push(this._loadPage(e));this._triggerLoad();let a=i,s=t%this.pageSize,o=e.byteLength;for(;o>0;){await n[a-i];let t=s+o>this.pageSize?this.pageSize-s:o,r=e.slice(e.byteLength-o,e.byteLength-o+t),l=new Uint8Array(this.pages[a].buff.buffer,s,t);l.set(r),this.pages[a].dirty=!0,this.pages[a].pendingOps--,this.pages[a].size=Math.max(s+t,this.pages[a].size),a>=this.totalPages&&(this.totalPages=a+1),o-=t,a++,s=0,this.writing||setImmediate(this._triggerWrite.bind(this))}}async read(e,t){let i=new Uint8Array(e);return await this.readToBuffer(i,0,e,t),i}async readToBuffer(e,t,i,r){if(0==i)return;if(i>this.pageSize*this.maxPagesLoaded*.8){let e=Math.floor(1.1*i);this.maxPagesLoaded=Math.floor(e/this.pageSize)+1}if(void 0===r&&(r=this.pos),this.pos=r+i,this.pendingClose)throw Error("Reading a closing file");let n=Math.floor(r/this.pageSize),a=Math.floor((r+i-1)/this.pageSize),s=[];for(let e=n;e<=a;e++)s.push(this._loadPage(e));this._triggerLoad();let o=n,l=r%this.pageSize,u=r+i>this.totalSize?i-(r+i-this.totalSize):i;for(;u>0;){await s[o-n],this.__statusPage("After Await (read): ",o);let r=l+u>this.pageSize?this.pageSize-l:u,a=new Uint8Array(this.pages[o].buff.buffer,this.pages[o].buff.byteOffset+l,r);e.set(a,t+i-u),this.pages[o].pendingOps--,this.__statusPage("After Op done: ",o),u-=r,o++,l=0,this.pendingLoads.length>0&&setImmediate(this._triggerLoad.bind(this))}this.pos=r+i}_tryClose(){if(!this.pendingClose)return;this.error&&this.pendingCloseReject(this.error);let e=this._getDirtyPage();e>=0||this.writing||this.reading||this.pendingLoads.length>0||this.pendingClose()}close(){let e=this;if(e.pendingClose)throw Error("Closing the file twice");return new Promise((t,i)=>{e.pendingClose=t,e.pendingCloseReject=i,e._tryClose()}).then(()=>{e.fd.close()},t=>{throw e.fd.close(),t})}async discard(){await this.close(),await n.promises.unlink(this.fileName)}async writeULE32(e,t){let i=new Uint8Array(4),r=new DataView(i.buffer);r.setUint32(0,e,!0),await this.write(i,t)}async writeUBE32(e,t){let i=new Uint8Array(4),r=new DataView(i.buffer);r.setUint32(0,e,!1),await this.write(i,t)}async writeULE64(e,t){let i=new Uint8Array(8),r=new DataView(i.buffer);r.setUint32(0,4294967295&e,!0),r.setUint32(4,Math.floor(e/4294967296),!0),await this.write(i,t)}async readULE32(e){let t=await this.read(4,e),i=new Uint32Array(t.buffer);return i[0]}async readUBE32(e){let t=await this.read(4,e),i=new DataView(t.buffer);return i.getUint32(0,!1)}async readULE64(e){let t=await this.read(8,e),i=new Uint32Array(t.buffer);return 4294967296*i[1]+i[0]}async readString(e){if(this.pendingClose)throw Error("Reading a closing file");let t=void 0===e?this.pos:e,i=Math.floor(t/this.pageSize),r=!1,n="";for(;!r;){let e=this._loadPage(i);this._triggerLoad(),await e,this.__statusPage("After Await (read): ",i);let a=t%this.pageSize,s=new Uint8Array(this.pages[i].buff.buffer,this.pages[i].buff.byteOffset+a,this.pageSize-a),o=s.findIndex(e=>0===e);(r=-1!==o)?(n+=new TextDecoder().decode(s.slice(0,o)),this.pos=i*this.pageSize+a+o+1):(n+=new TextDecoder().decode(s),this.pos=i*this.pageSize+a+s.length),this.pages[i].pendingOps--,this.__statusPage("After Op done: ",i),t=this.pos,i++,this.pendingLoads.length>0&&setImmediate(this._triggerLoad.bind(this))}return n}};function createNew(e){let t=e.initialSize||1048576,i=new MemFile;return i.o=e,i.o.data=new Uint8Array(t),i.allocSize=t,i.totalSize=0,i.readOnly=!1,i.pos=0,i}function readWriteExisting(e){let t=new MemFile;return t.o=e,t.allocSize=e.data.byteLength,t.totalSize=e.data.byteLength,t.readOnly=!1,t.pos=0,t}let s=new Uint8Array(4),o=new DataView(s.buffer),l=new Uint8Array(8),u=new DataView(l.buffer);let MemFile=class MemFile{constructor(){this.pageSize=16384}_resizeIfNeeded(e){if(e>this.allocSize){let t=Math.max(this.allocSize+1048576,Math.floor(1.1*this.allocSize),e),i=new Uint8Array(t);i.set(this.o.data),this.o.data=i,this.allocSize=t}}async write(e,t){if(void 0===t&&(t=this.pos),this.readOnly)throw Error("Writing a read only file");this._resizeIfNeeded(t+e.byteLength),this.o.data.set(e.slice(),t),t+e.byteLength>this.totalSize&&(this.totalSize=t+e.byteLength),this.pos=t+e.byteLength}async readToBuffer(e,t,i,r){if(void 0===r&&(r=this.pos),this.readOnly&&r+i>this.totalSize)throw Error("Reading out of bounds");this._resizeIfNeeded(r+i);let n=new Uint8Array(this.o.data.buffer,this.o.data.byteOffset+r,i);e.set(n,t),this.pos=r+i}async read(e,t){let i=new Uint8Array(e);return await this.readToBuffer(i,0,e,t),i}close(){this.o.data.byteLength!=this.totalSize&&(this.o.data=this.o.data.slice(0,this.totalSize))}async discard(){}async writeULE32(e,t){o.setUint32(0,e,!0),await this.write(s,t)}async writeUBE32(e,t){o.setUint32(0,e,!1),await this.write(s,t)}async writeULE64(e,t){u.setUint32(0,4294967295&e,!0),u.setUint32(4,Math.floor(e/4294967296),!0),await this.write(l,t)}async readULE32(e){let t=await this.read(4,e),i=new Uint32Array(t.buffer);return i[0]}async readUBE32(e){let t=await this.read(4,e),i=new DataView(t.buffer);return i.getUint32(0,!1)}async readULE64(e){let t=await this.read(8,e),i=new Uint32Array(t.buffer);return 4294967296*i[1]+i[0]}async readString(e){let t=void 0===e?this.pos:e;if(t>this.totalSize){if(this.readOnly)throw Error("Reading out of bounds");this._resizeIfNeeded(e)}let i=new Uint8Array(this.o.data.buffer,t,this.totalSize-t),r=i.findIndex(e=>0===e),n="";return -1!==r?(n=new TextDecoder().decode(i.slice(0,r)),this.pos=t+r+1):this.pos=t,n}};function createNew$1(e){let t=e.initialSize||0,i=new BigMemFile;i.o=e;let r=t?Math.floor((t-1)/4194304)+1:0;i.o.data=[];for(let e=0;e<r-1;e++)i.o.data.push(new Uint8Array(4194304));return r&&i.o.data.push(new Uint8Array(t-4194304*(r-1))),i.totalSize=0,i.readOnly=!1,i.pos=0,i}function readWriteExisting$1(e){let t=new BigMemFile;return t.o=e,t.totalSize=(e.data.length-1)*4194304+e.data[e.data.length-1].byteLength,t.readOnly=!1,t.pos=0,t}let h=new Uint8Array(4),c=new DataView(h.buffer),d=new Uint8Array(8),f=new DataView(d.buffer);let BigMemFile=class BigMemFile{constructor(){this.pageSize=16384}_resizeIfNeeded(e){if(e<=this.totalSize)return;if(this.readOnly)throw Error("Reading out of file bounds");let t=Math.floor((e-1)/4194304)+1;for(let i=Math.max(this.o.data.length-1,0);i<t;i++){let r=i<t-1?4194304:e-(t-1)*4194304,n=new Uint8Array(r);i==this.o.data.length-1&&n.set(this.o.data[i]),this.o.data[i]=n}this.totalSize=e}async write(e,t){if(void 0===t&&(t=this.pos),this.readOnly)throw Error("Writing a read only file");this._resizeIfNeeded(t+e.byteLength);let i=Math.floor(t/4194304),r=i,n=t%4194304,a=e.byteLength;for(;a>0;){let t=n+a>4194304?4194304-n:a,i=e.slice(e.byteLength-a,e.byteLength-a+t),s=new Uint8Array(this.o.data[r].buffer,n,t);s.set(i),a-=t,r++,n=0}this.pos=t+e.byteLength}async readToBuffer(e,t,i,r){if(void 0===r&&(r=this.pos),this.readOnly&&r+i>this.totalSize)throw Error("Reading out of bounds");this._resizeIfNeeded(r+i);let n=Math.floor(r/4194304),a=n,s=r%4194304,o=i;for(;o>0;){let r=s+o>4194304?4194304-s:o,n=new Uint8Array(this.o.data[a].buffer,s,r);e.set(n,t+i-o),o-=r,a++,s=0}this.pos=r+i}async read(e,t){let i=new Uint8Array(e);return await this.readToBuffer(i,0,e,t),i}close(){}async discard(){}async writeULE32(e,t){c.setUint32(0,e,!0),await this.write(h,t)}async writeUBE32(e,t){c.setUint32(0,e,!1),await this.write(h,t)}async writeULE64(e,t){f.setUint32(0,4294967295&e,!0),f.setUint32(4,Math.floor(e/4294967296),!0),await this.write(d,t)}async readULE32(e){let t=await this.read(4,e),i=new Uint32Array(t.buffer);return i[0]}async readUBE32(e){let t=await this.read(4,e),i=new DataView(t.buffer);return i.getUint32(0,!1)}async readULE64(e){let t=await this.read(8,e),i=new Uint32Array(t.buffer);return 4294967296*i[1]+i[0]}async readString(e){let t=void 0===e?this.pos:e;if(t>this.totalSize){if(this.readOnly)throw Error("Reading out of bounds");this._resizeIfNeeded(e)}let i=!1,r="";for(;!i;){let e=Math.floor(t/4194304),n=t%4194304;if(void 0===this.o.data[e])throw Error("ERROR");let a=Math.min(2048,this.o.data[e].length-n),s=new Uint8Array(this.o.data[e].buffer,n,a),o=s.findIndex(e=>0===e);(i=-1!==o)?(r+=new TextDecoder().decode(s.slice(0,o)),this.pos=4194304*e+n+o+1):(r+=new TextDecoder().decode(s),this.pos=4194304*e+n+s.length),t=this.pos}return r}};async function createOverride(e,t,i){if("string"==typeof e&&(e={type:"file",fileName:e,cacheSize:t||65536,pageSize:i||8192}),"file"==e.type)return await open(e.fileName,a.O_TRUNC|a.O_CREAT|a.O_RDWR,e.cacheSize,e.pageSize);if("mem"==e.type)return createNew(e);if("bigMem"==e.type)return createNew$1(e);throw Error("Invalid FastFile type: "+e.type)}async function readExisting$2(e,t,i){if(e instanceof Uint8Array&&(e={type:"mem",data:e}),"string"==typeof e){let t=await fetch(e).then(function(e){return e.arrayBuffer()}).then(function(e){return new Uint8Array(e)});e={type:"mem",data:t}}if("file"==e.type)return await open(e.fileName,a.O_RDONLY,e.cacheSize,e.pageSize);if("mem"==e.type)return await function(e){let t=new MemFile;return t.o=e,t.allocSize=e.data.byteLength,t.totalSize=e.data.byteLength,t.readOnly=!0,t.pos=0,t}(e);if("bigMem"==e.type)return await function(e){let t=new BigMemFile;return t.o=e,t.totalSize=(e.data.length-1)*4194304+e.data[e.data.length-1].byteLength,t.readOnly=!0,t.pos=0,t}(e);throw Error("Invalid FastFile type: "+e.type)}t.createNoOverride=function(e,t,i){if("string"==typeof e&&(e={type:"file",fileName:e,cacheSize:t||65536,pageSize:i||8192}),"file"==e.type)return open(e.fileName,a.O_TRUNC|a.O_CREAT|a.O_RDWR|a.O_EXCL,e.cacheSize,e.pageSize);if("mem"==e.type)return createNew(e);if("bigMem"==e.type)return createNew$1(e);throw Error("Invalid FastFile type: "+e.type)},t.createOverride=createOverride,t.readExisting=readExisting$2,t.readWriteExisting=function(e,t,i){if("string"==typeof e&&(e={type:"file",fileName:e,cacheSize:t||65536,pageSize:i||8192}),"file"==e.type)return open(e.fileName,a.O_CREAT|a.O_RDWR,e.cacheSize,e.pageSize);if("mem"==e.type)return readWriteExisting(e);if("bigMem"==e.type)return readWriteExisting$1(e);throw Error("Invalid FastFile type: "+e.type)},t.readWriteExistingOrCreate=function(e,t,i){if("string"==typeof e&&(e={type:"file",fileName:e,cacheSize:t||65536,pageSize:i||8192}),"file"==e.type)return open(e.fileName,a.O_CREAT|a.O_RDWR|a.O_EXCL,e.cacheSize);if("mem"==e.type)return readWriteExisting(e);if("bigMem"==e.type)return readWriteExisting$1(e);throw Error("Invalid FastFile type: "+e.type)}},4285:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(80496),n=i(35438),a=i(42223),s=n&&"object"==typeof n&&"default"in n?n:{default:n},o=function(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach(function(i){if("default"!==i){var r=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:function(){return e[i]}})}}),t.default=e,Object.freeze(t)}(a);async function readR1csHeader(e,t,i){let n;n="object"==typeof i?i:void 0===i?{singleThread:!1}:{singleThread:i};let a={};if(await o.startReadUniqueSection(e,t,1),a.n8=await e.readULE32(),a.prime=await o.readBigInt(e,a.n8),n.F){if(n.F.p!=a.prime)throw Error("Different Prime");a.F=n.F}else if(n.getFieldFromPrime)a.F=await n.getFieldFromPrime(a.prime,n.singleThread);else if(n.getCurveFromPrime)a.curve=await n.getCurveFromPrime(a.prime,n.singleThread),a.F=a.curve.Fr;else try{a.curve=await r.getCurveFromR(a.prime,n.singleThread),a.F=a.curve.Fr}catch(e){a.F=new r.F1Field(a.prime)}return a.nVars=await e.readULE32(),a.nOutputs=await e.readULE32(),a.nPubInputs=await e.readULE32(),a.nPrvInputs=await e.readULE32(),a.nLabels=await e.readULE64(),a.nConstraints=await e.readULE32(),a.useCustomGates=void 0!==t[4]&&null!==t[4]&&void 0!==t[5]&&null!==t[5],await o.endReadSection(e),a}async function readConstraints(e,t,i,r,n){let a,l;a="object"==typeof r?r:void 0===r?{}:{logger:r,loggerCtx:n};let u=await o.readSection(e,t,2),h=0;l=i.nConstraints>1048576?new s.default:[];for(let e=0;e<i.nConstraints;e++){a.logger&&e%1e5==0&&a.logger.info(`${a.loggerCtx}: Loading constraints: ${e}/${i.nConstraints}`);let t=function(){let e=[];return e[0]=readLC(),e[1]=readLC(),e[2]=readLC(),e}();l.push(t)}return l;function readLC(){let e={},t=u.slice(h,h+4);h+=4;let r=new DataView(t.buffer),n=r.getUint32(0,!0),a=u.slice(h,h+(4+i.n8)*n);h+=(4+i.n8)*n;let s=new DataView(a.buffer);for(let t=0;t<n;t++){let r=s.getUint32(t*(4+i.n8),!0),n=i.F.fromRprLE(a,t*(4+i.n8)+4);e[r]=n}return e}}async function readMap(e,t,i,r,n){let a,l;a="object"==typeof r?r:void 0===r?{}:{logger:r,loggerCtx:n};let u=await o.readSection(e,t,3),h=0;l=i.nVars>1048576?new s.default:[];for(let e=0;e<i.nVars;e++){a.logger&&e%1e4==0&&a.logger.info(`${a.loggerCtx}: Loading map: ${e}/${i.nVars}`);let t=function(){let e=u.slice(h,h+8);h+=8;let t=new DataView(e.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0);return 4294967296*r+i}();l.push(t)}return l}async function readR1csFd(e,t,i){if("object"!=typeof i)throw Error("readR1csFd: options must be an object");i.loadConstraints=!("loadConstraints"in i)||i.loadConstraints,i.loadMap="loadMap"in i&&i.loadMap,i.loadCustomGates=!("loadCustomGates"in i)||i.loadCustomGates;let r=await readR1csHeader(e,t,i);return i.loadConstraints&&(r.constraints=await readConstraints(e,t,r,i)),i.loadMap&&(r.map=await readMap(e,t,r,i)),i.loadCustomGates&&(r.useCustomGates?(r.customGates=await readCustomGatesListSection(e,t,r),r.customGatesUses=await readCustomGatesUsesSection(e,t,i)):(r.customGates=[],r.customGatesUses=[])),r}async function readR1cs(e,t,i,r,n,a){let s;s="object"==typeof t?t:void 0===t?{loadConstraints:!0,loadMap:!1,loadCustomGates:!0}:{loadConstraints:t,loadMap:i,singleThread:r,logger:n,loggerCtx:a};let{fd:l,sections:u}=await o.readBinFile(e,"r1cs",1,33554432,4194304),h=await readR1csFd(l,u,s);return await l.close(),h}async function readCustomGatesListSection(e,t,i){await o.startReadUniqueSection(e,t,4);let r=await e.readULE32(),n=[];for(let t=0;t<r;t++){let t={};t.templateName=await e.readString();let r=await e.readULE32();t.parameters=Array(r);let a=await e.read(i.n8*r);for(let e=0;e<r;e++)t.parameters[e]=i.F.fromRprLE(a,e*i.n8,i.n8);n.push(t)}return await o.endReadSection(e),n}async function readCustomGatesUsesSection(e,t,i){let r;let n=await o.readSection(e,t,5),a=new Uint32Array(n.buffer,n.byteOffset,n.byteLength/4),l=a[0],u=1;r=l>1048576?new s.default:[];for(let e=0;e<l;e++){i.logger&&e%1e5==0&&i.logger.info(`${i.loggerCtx}: Loading custom gate uses: ${e}/${l}`);let t={};t.id=a[u++];let n=a[u++];t.signals=[];for(let e=0;e<n;e++){let e=a[u++],i=a[u++];t.signals.push(4294967296*i+e)}r.push(t)}return r}async function writeR1csHeader(e,t){await o.startWriteSection(e,1),await e.writeULE32(t.n8),await o.writeBigInt(e,t.prime,t.n8),await e.writeULE32(t.nVars),await e.writeULE32(t.nOutputs),await e.writeULE32(t.nPubInputs),await e.writeULE32(t.nPrvInputs),await e.writeULE64(t.nLabels),await e.writeULE32(t.constraints.length),await o.endWriteSection(e)}async function writeR1csConstraints(e,t,i,r){await o.startWriteSection(e,2);for(let n=0;n<t.constraints.length;n++)i&&n%1e4==0&&i.info(`${r}: writing constraint: ${n}/${t.constraints.length}`),await function(i){let r=t.n8,n=t.F||t.curve.Fr,a=Object.keys(i[0]),s=Object.keys(i[1]),o=Object.keys(i[2]),l=new Uint8Array((a.length+s.length+o.length)*(r+4)+12),u=new DataView(l.buffer),h=0;u.setUint32(h,a.length,!0),h+=4;for(let e=0;e<a.length;e++){let t=a[e];u.setUint32(h,t,!0),h+=4,n.toRprLE(l,h,i[0][t]),h+=r}u.setUint32(h,s.length,!0),h+=4;for(let e=0;e<s.length;e++){let t=s[e];u.setUint32(h,t,!0),h+=4,n.toRprLE(l,h,i[1][t]),h+=r}u.setUint32(h,o.length,!0),h+=4;for(let e=0;e<o.length;e++){let t=o[e];u.setUint32(h,t,!0),h+=4,n.toRprLE(l,h,i[2][t]),h+=r}return e.write(l)}(t.constraints[n]);await o.endWriteSection(e)}async function writeR1csMap(e,t,i,r){if(await o.startWriteSection(e,3),t.map.length!=t.nVars)throw Error("Invalid map size");for(let n=0;n<t.nVars;n++)i&&n%1e4==0&&i.info(`${r}: writing map: ${n}/${t.nVars}`),await e.writeULE64(t.map[n]);await o.endWriteSection(e)}async function writeR1cs(e,t,i,r){let n=await o.createBinFile(e,"r1cs",1,3,33554432,4194304);await writeR1csHeader(n,t),await writeR1csConstraints(n,t,i,r),await writeR1csMap(n,t,i,r),await n.close()}t.R1CS_FILE_CONSTRAINTS_SECTION=2,t.R1CS_FILE_CUSTOM_GATES_LIST_SECTION=4,t.R1CS_FILE_CUSTOM_GATES_USES_SECTION=5,t.R1CS_FILE_HEADER_SECTION=1,t.R1CS_FILE_WIRE2LABELID_SECTION=3,t.readConstraints=readConstraints,t.readCustomGatesListSection=readCustomGatesListSection,t.readCustomGatesUsesSection=readCustomGatesUsesSection,t.readMap=readMap,t.readR1cs=readR1cs,t.readR1csFd=readR1csFd,t.readR1csHeader=readR1csHeader,t.writeR1cs=writeR1cs,t.writeR1csConstraints=writeR1csConstraints,t.writeR1csHeader=writeR1csHeader,t.writeR1csMap=writeR1csMap},63400:function(e,t,i){"use strict";var r=i(21876).Buffer;function toNumber(e){return BigInt(e)}function u32(e){let t=[],i=toNumber(e);return t.push(Number(255n&i)),t.push(Number(i>>8n&255n)),t.push(Number(i>>16n&255n)),t.push(Number(i>>24n&255n)),t}function string(e){let t=function(e){for(var t=[],i=0;i<e.length;i++){var r=e.charCodeAt(i);r<128?t.push(r):r<2048?t.push(192|r>>6,128|63&r):r<55296||r>=57344?t.push(224|r>>12,128|r>>6&63,128|63&r):(i++,r=65536+((1023&r)<<10|1023&e.charCodeAt(i)),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r))}return t}(e);return[...varuint32(t.length),...t]}function varuint(e){let t=[],i=toNumber(e);if(i<0n)throw Error("Number cannot be negative");for(;0n!==i;)t.push(Number(127n&i)),i>>=7n;0==t.length&&t.push(0);for(let e=0;e<t.length-1;e++)t[e]=128|t[e];return t}function varint(e){let t,i;let r=e<0n?e.toString(2).length-1:e.toString(2).length;e<0?(i=!0,t=(1n<<BigInt(r))+e):(i=!1,t=toNumber(e));let n=7-r%7,a=(1n<<BigInt(n))-1n<<BigInt(r),s=varuint(t+a);return i||(s[s.length-1]=s[s.length-1]&((1<<7-n)-1|128)),s}function varint32(e){let t=toNumber(e);if(t>4294967295n)throw Error("Number too big");if(t>2147483647n&&(t-=4294967296n),t<-2147483648n)throw Error("Number too small");return varint(t)}function varuint32(e){let t=toNumber(e);if(t>4294967295n)throw Error("Number too big");return varuint(t)}function toHexString(e){return Array.from(e,function(e){return("0"+(255&e).toString(16)).slice(-2)}).join("")}function ident(e){if("string"==typeof e){let t=e.split("\n");for(let e=0;e<t.length;e++)t[e]&&(t[e]="    "+t[e]);return t.join("\n")}if(Array.isArray(e)){for(let t=0;t<e.length;t++)e[t]=ident(e[t]);return e}}Object.defineProperty(t,"__esModule",{value:!0});let CodeBuilder=class CodeBuilder{constructor(e){this.func=e,this.functionName=e.functionName,this.module=e.module}setLocal(e,t){let i=this.func.localIdxByName[e];if(void 0===i)throw Error(`Local Variable not defined: Function: ${this.functionName} local: ${e} `);return[...t,33,...varuint32(i)]}teeLocal(e,t){let i=this.func.localIdxByName[e];if(void 0===i)throw Error(`Local Variable not defined: Function: ${this.functionName} local: ${e} `);return[...t,34,...varuint32(i)]}getLocal(e){let t=this.func.localIdxByName[e];if(void 0===t)throw Error(`Local Variable not defined: Function: ${this.functionName} local: ${e} `);return[32,...varuint32(t)]}i64_load8_s(e,t,i){let r=t||0;return[...e,48,void 0===i?0:i,...varuint32(r)]}i64_load8_u(e,t,i){let r=t||0;return[...e,49,void 0===i?0:i,...varuint32(r)]}i64_load16_s(e,t,i){let r=t||0;return[...e,50,void 0===i?1:i,...varuint32(r)]}i64_load16_u(e,t,i){let r=t||0;return[...e,51,void 0===i?1:i,...varuint32(r)]}i64_load32_s(e,t,i){let r=t||0;return[...e,52,void 0===i?2:i,...varuint32(r)]}i64_load32_u(e,t,i){let r=t||0;return[...e,53,void 0===i?2:i,...varuint32(r)]}i64_load(e,t,i){let r=t||0;return[...e,41,void 0===i?3:i,...varuint32(r)]}i64_store(e,t,i,r){let n,a,s;return Array.isArray(t)?(n=0,a=3,s=t):Array.isArray(i)?(n=t,a=3,s=i):Array.isArray(r)&&(n=t,a=i,s=r),[...e,...s,55,a,...varuint32(n)]}i64_store32(e,t,i,r){let n,a,s;return Array.isArray(t)?(n=0,a=2,s=t):Array.isArray(i)?(n=t,a=2,s=i):Array.isArray(r)&&(n=t,a=i,s=r),[...e,...s,62,a,...varuint32(n)]}i64_store16(e,t,i,r){let n,a,s;return Array.isArray(t)?(n=0,a=1,s=t):Array.isArray(i)?(n=t,a=1,s=i):Array.isArray(r)&&(n=t,a=i,s=r),[...e,...s,61,a,...varuint32(n)]}i64_store8(e,t,i,r){let n,a,s;return Array.isArray(t)?(n=0,a=0,s=t):Array.isArray(i)?(n=t,a=0,s=i):Array.isArray(r)&&(n=t,a=i,s=r),[...e,...s,60,a,...varuint32(n)]}i32_load8_s(e,t,i){let r=t||0;return[...e,44,void 0===i?0:i,...varuint32(r)]}i32_load8_u(e,t,i){let r=t||0;return[...e,45,void 0===i?0:i,...varuint32(r)]}i32_load16_s(e,t,i){let r=t||0;return[...e,46,void 0===i?1:i,...varuint32(r)]}i32_load16_u(e,t,i){let r=t||0;return[...e,47,void 0===i?1:i,...varuint32(r)]}i32_load(e,t,i){let r=t||0;return[...e,40,void 0===i?2:i,...varuint32(r)]}i32_store(e,t,i,r){let n,a,s;return Array.isArray(t)?(n=0,a=2,s=t):Array.isArray(i)?(n=t,a=2,s=i):Array.isArray(r)&&(n=t,a=i,s=r),[...e,...s,54,a,...varuint32(n)]}i32_store16(e,t,i,r){let n,a,s;return Array.isArray(t)?(n=0,a=1,s=t):Array.isArray(i)?(n=t,a=1,s=i):Array.isArray(r)&&(n=t,a=i,s=r),[...e,...s,59,a,...varuint32(n)]}i32_store8(e,t,i,r){let n,a,s;return Array.isArray(t)?(n=0,a=0,s=t):Array.isArray(i)?(n=t,a=0,s=i):Array.isArray(r)&&(n=t,a=i,s=r),[...e,...s,58,a,...varuint32(n)]}call(e,...t){let i=this.module.functionIdxByName[e];if(void 0===i)throw Error(`Function not defined: Function: ${e}`);return[...[].concat(...t),16,...varuint32(i)]}call_indirect(e,...t){return[...[].concat(...t),...e,17,0,0]}if(e,t,i){return i?[...e,4,64,...t,5,...i,11]:[...e,4,64,...t,11]}block(e){return[2,64,...e,11]}loop(...e){return[3,64,...[].concat(...[...e]),11]}br_if(e,t){return[...t,13,...varuint32(e)]}br(e){return[12,...varuint32(e)]}ret(e){return[...e,15]}drop(e){return[...e,26]}i64_const(e){return[66,...function(e){let t=toNumber(e);if(t>0xffffffffffffffffn)throw Error("Number too big");if(t>0x7fffffffffffffffn&&(t-=0x10000000000000000n),t<-0x8000000000000000n)throw Error("Number too small");return varint(t)}(e)]}i32_const(e){return[65,...varint32(e)]}i64_eqz(e){return[...e,80]}i64_eq(e,t){return[...e,...t,81]}i64_ne(e,t){return[...e,...t,82]}i64_lt_s(e,t){return[...e,...t,83]}i64_lt_u(e,t){return[...e,...t,84]}i64_gt_s(e,t){return[...e,...t,85]}i64_gt_u(e,t){return[...e,...t,86]}i64_le_s(e,t){return[...e,...t,87]}i64_le_u(e,t){return[...e,...t,88]}i64_ge_s(e,t){return[...e,...t,89]}i64_ge_u(e,t){return[...e,...t,90]}i64_add(e,t){return[...e,...t,124]}i64_sub(e,t){return[...e,...t,125]}i64_mul(e,t){return[...e,...t,126]}i64_div_s(e,t){return[...e,...t,127]}i64_div_u(e,t){return[...e,...t,128]}i64_rem_s(e,t){return[...e,...t,129]}i64_rem_u(e,t){return[...e,...t,130]}i64_and(e,t){return[...e,...t,131]}i64_or(e,t){return[...e,...t,132]}i64_xor(e,t){return[...e,...t,133]}i64_shl(e,t){return[...e,...t,134]}i64_shr_s(e,t){return[...e,...t,135]}i64_shr_u(e,t){return[...e,...t,136]}i64_extend_i32_s(e){return[...e,172]}i64_extend_i32_u(e){return[...e,173]}i64_clz(e){return[...e,121]}i64_ctz(e){return[...e,122]}i32_eqz(e){return[...e,69]}i32_eq(e,t){return[...e,...t,70]}i32_ne(e,t){return[...e,...t,71]}i32_lt_s(e,t){return[...e,...t,72]}i32_lt_u(e,t){return[...e,...t,73]}i32_gt_s(e,t){return[...e,...t,74]}i32_gt_u(e,t){return[...e,...t,75]}i32_le_s(e,t){return[...e,...t,76]}i32_le_u(e,t){return[...e,...t,77]}i32_ge_s(e,t){return[...e,...t,78]}i32_ge_u(e,t){return[...e,...t,79]}i32_add(e,t){return[...e,...t,106]}i32_sub(e,t){return[...e,...t,107]}i32_mul(e,t){return[...e,...t,108]}i32_div_s(e,t){return[...e,...t,109]}i32_div_u(e,t){return[...e,...t,110]}i32_rem_s(e,t){return[...e,...t,111]}i32_rem_u(e,t){return[...e,...t,112]}i32_and(e,t){return[...e,...t,113]}i32_or(e,t){return[...e,...t,114]}i32_xor(e,t){return[...e,...t,115]}i32_shl(e,t){return[...e,...t,116]}i32_shr_s(e,t){return[...e,...t,117]}i32_shr_u(e,t){return[...e,...t,118]}i32_rotl(e,t){return[...e,...t,119]}i32_rotr(e,t){return[...e,...t,120]}i32_wrap_i64(e){return[...e,167]}i32_clz(e){return[...e,103]}i32_ctz(e){return[...e,104]}unreachable(){return[0]}current_memory(){return[63,0]}comment(){return[]}};let n={i32:127,i64:126,f32:125,f64:124,anyfunc:112,func:96,emptyblock:64};let FunctionBuilder=class FunctionBuilder{constructor(e,t,i,r,n){if("import"==i)this.fnType="import",this.moduleName=r,this.fieldName=n;else if("internal"==i)this.fnType="internal";else throw Error("Invalid function fnType: "+i);this.module=e,this.fnName=t,this.params=[],this.locals=[],this.localIdxByName={},this.code=[],this.returnType=null,this.nextLocal=0}addParam(e,t){if(this.localIdxByName[e])throw Error(`param already exists. Function: ${this.fnName}, Param: ${e} `);let i=this.nextLocal++;this.localIdxByName[e]=i,this.params.push({type:t})}addLocal(e,t,i){if(this.localIdxByName[e])throw Error(`local already exists. Function: ${this.fnName}, Param: ${e} `);let r=this.nextLocal++;this.localIdxByName[e]=r,this.locals.push({type:t,length:i||1})}setReturnType(e){if(this.returnType)throw Error(`returnType already defined. Function: ${this.fnName}`);this.returnType=e}getSignature(){let e=[...varuint32(this.params.length),...this.params.map(e=>n[e.type])],t=this.returnType?[1,n[this.returnType]]:[0];return[96,...e,...t]}getBody(){let e=this.locals.map(e=>[...varuint32(e.length),n[e.type]]),t=[...varuint32(this.locals.length),...[].concat(...e),...this.code,11];return[...varuint32(t.length),...t]}addCode(...e){this.code.push(...[].concat(...[...e]))}getCodeBuilder(){return new CodeBuilder(this)}};let ModuleBuilder=class ModuleBuilder{constructor(){this.functions=[],this.functionIdxByName={},this.nImportFunctions=0,this.nInternalFunctions=0,this.memory={pagesSize:1,moduleName:"env",fieldName:"memory"},this.free=8,this.datas=[],this.modules={},this.exports=[],this.functionsTable=[]}build(){return this._setSignatures(),new Uint8Array([...u32(1836278016),...u32(1),...this._buildType(),...this._buildImport(),...this._buildFunctionDeclarations(),...this._buildFunctionsTable(),...this._buildExports(),...this._buildElements(),...this._buildCode(),...this._buildData()])}addFunction(e){if(void 0!==this.functionIdxByName[e])throw Error(`Function already defined: ${e}`);let t=this.functions.length;return this.functionIdxByName[e]=t,this.functions.push(new FunctionBuilder(this,e,"internal")),this.nInternalFunctions++,this.functions[t]}addIimportFunction(e,t,i){if(void 0!==this.functionIdxByName[e])throw Error(`Function already defined: ${e}`);if(this.functions.length>0&&"internal"==this.functions[this.functions.length-1].type)throw Error(`Import functions must be declared before internal: ${e}`);let r=i||e,n=this.functions.length;return this.functionIdxByName[e]=n,this.functions.push(new FunctionBuilder(this,e,"import",t,r)),this.nImportFunctions++,this.functions[n]}setMemory(e,t,i){this.memory={pagesSize:e,moduleName:t||"env",fieldName:i||"memory"}}exportFunction(e,t){let i=t||e;if(void 0===this.functionIdxByName[e])throw Error(`Function not defined: ${e}`);let r=this.functionIdxByName[e];i!=e&&(this.functionIdxByName[i]=r),this.exports.push({exportName:i,idx:r})}addFunctionToTable(e){let t=this.functionIdxByName[e];this.functionsTable.push(t)}addData(e,t){this.datas.push({offset:e,bytes:t})}alloc(e,t){let i,r;(Array.isArray(e)||ArrayBuffer.isView(e))&&void 0===t?(i=e.length,r=e):(i=e,r=t),i=(i-1>>3)+1<<3;let n=this.free;return this.free+=i,r&&this.addData(n,r),n}allocString(e){let t=new globalThis.TextEncoder,i=t.encode(e);return this.alloc([...i,0])}_setSignatures(){this.signatures=[];let e={};if(this.functionsTable.length>0){let t=this.functions[this.functionsTable[0]].getSignature(),i="s_"+toHexString(t);e[i]=0,this.signatures.push(t)}for(let t=0;t<this.functions.length;t++){let i=this.functions[t].getSignature(),r="s_"+toHexString(i);void 0===e[r]&&(e[r]=this.signatures.length,this.signatures.push(i)),this.functions[t].signatureIdx=e[r]}}_buildSection(e,t){return[e,...varuint32(t.length),...t]}_buildType(){return this._buildSection(1,[...varuint32(this.signatures.length),...[].concat(...this.signatures)])}_buildImport(){let e=[];e.push([...string(this.memory.moduleName),...string(this.memory.fieldName),2,0,...varuint32(this.memory.pagesSize)]);for(let t=0;t<this.nImportFunctions;t++)e.push([...string(this.functions[t].moduleName),...string(this.functions[t].fieldName),0,...varuint32(this.functions[t].signatureIdx)]);return this._buildSection(2,varuint32(e.length).concat(...e))}_buildFunctionDeclarations(){let e=[];for(let t=this.nImportFunctions;t<this.nImportFunctions+this.nInternalFunctions;t++)e.push(...varuint32(this.functions[t].signatureIdx));return this._buildSection(3,[...varuint32(e.length),...e])}_buildFunctionsTable(){return 0==this.functionsTable.length?[]:this._buildSection(4,[...varuint32(1),112,0,...varuint32(this.functionsTable.length)])}_buildElements(){if(0==this.functionsTable.length)return[];let e=[];for(let t=0;t<this.functionsTable.length;t++)e.push(...varuint32(this.functionsTable[t]));return this._buildSection(9,[...varuint32(1),...varuint32(0),65,...varint32(0),11,...varuint32(this.functionsTable.length),...e])}_buildExports(){let e=[];for(let t=0;t<this.exports.length;t++)e.push([...string(this.exports[t].exportName),0,...varuint32(this.exports[t].idx)]);return this._buildSection(7,varuint32(e.length).concat(...e))}_buildCode(){let e=[];for(let t=this.nImportFunctions;t<this.nImportFunctions+this.nInternalFunctions;t++)e.push(this.functions[t].getBody());return this._buildSection(10,varuint32(e.length).concat(...e))}_buildData(){let e=[];e.push([0,65,0,11,4,...u32(this.free)]);for(let t=0;t<this.datas.length;t++)e.push([0,65,...varint32(this.datas[t].offset),11,...varuint32(this.datas[t].bytes.length),...this.datas[t].bytes]);return this._buildSection(11,varuint32(e.length).concat(...e))}};let CodeBuilderWat=class CodeBuilderWat{constructor(e){this.func=e,this.functionName=e.functionName,this.module=e.module}setLocal(e,t){let i=this.func.localIdxByName[e];if(void 0===i)throw Error(`Local Variable not defined: Function: ${this.functionName} local: ${e} `);return[t,`set_local $${e}`]}teeLocal(e,t){let i=this.func.localIdxByName[e];if(void 0===i)throw Error(`Local Variable not defined: Function: ${this.functionName} local: ${e} `);return[t,`tee_local $${e}`]}getLocal(e){let t=this.func.localIdxByName[e];if(void 0===t)throw Error(`Local Variable not defined: Function: ${this.functionName} local: ${e} `);return`get_local $${e}`}genLoad(e,t,i,r,n){let a=e,s=r||0;s>0&&(a+=` offset=${s}`);let o=void 0===n?t:n;return o!=t&&(a+=` align=${1<<o}`),[i,a]}genStore(e,t,i,r,n,a){let s,o,l;void 0===n?(s=0,o=t,l=r):void 0===a?(s=r,o=t,l=n):(s=r,o=n,l=a);let u=e;return s>0&&(u+=` offset=${s}`),o!=t&&(u+=` align=${1<<o}`),[i,l,u]}i64_load8_s(e,t,i){return this.genLoad("i64.load8_s",0,e,t,i)}i64_load8_u(e,t,i){return this.genLoad("i64.load8_u",0,e,t,i)}i64_load16_s(e,t,i){return this.genLoad("i64.load16_s",1,e,t,i)}i64_load16_u(e,t,i){return this.genLoad("i64.load16_u",1,e,t,i)}i64_load32_s(e,t,i){return this.genLoad("i64.load32_s",2,e,t,i)}i64_load32_u(e,t,i){return this.genLoad("i64.load32_u",2,e,t,i)}i64_load(e,t,i){return this.genLoad("i64.load",3,e,t,i)}i64_store(e,t,i,r){return this.genStore("i64.store",3,e,t,i,r)}i64_store32(e,t,i,r){return this.genStore("i64.store32",2,e,t,i,r)}i64_store16(e,t,i,r){return this.genStore("i64.store16",1,e,t,i,r)}i64_store8(e,t,i,r){return this.genStore("i64.store8",0,e,t,i,r)}i32_load8_s(e,t,i){return this.genLoad("i32.load8_s",0,e,t,i)}i32_load8_u(e,t,i){return this.genLoad("i32.load8_u",0,e,t,i)}i32_load16_s(e,t,i){return this.genLoad("i32.load16_s",1,e,t,i)}i32_load16_u(e,t,i){return this.genLoad("i32.load16_u",1,e,t,i)}i32_load(e,t,i){return this.genLoad("i32.load",2,e,t,i)}i32_store(e,t,i,r){return this.genStore("i32.store",2,e,t,i,r)}i32_store16(e,t,i,r){return this.genStore("i32.store16",1,e,t,i,r)}i32_store8(e,t,i,r){return this.genStore("i32.store8",0,e,t,i,r)}call(e,...t){let i=this.module.functionIdxByName[e];if(void 0===i)throw Error(`Function not defined: Function: ${e}`);return[t,`call $${e}`]}call_indirect(e,...t){return[t,e,"call_indirect (type 0)"]}if(e,t,i){return i?[e,"if",ident(t),"else",ident(i),"end"]:[e,"if",ident(t),"end"]}block(e){return["block",ident(e),"end"]}loop(...e){return["loop",ident(e),"end"]}br_if(e,t){return[t,`br_if ${e}`]}br(e){return`br ${e}`}ret(e){return[e,"return"]}drop(e){return[e,"drop"]}i64_const(e){return`i64.const ${e}`}i32_const(e){return`i32.const ${e}`}i64_eqz(e){return[e,"i64.eqz"]}i64_eq(e,t){return[e,t,"i64.eq"]}i64_ne(e,t){return[e,t,"i64.ne"]}i64_lt_s(e,t){return[e,t,"i64.lt_s"]}i64_lt_u(e,t){return[e,t,"i64.lt_u"]}i64_gt_s(e,t){return[e,t,"i64.gt_s"]}i64_gt_u(e,t){return[e,t,"i64.gt_u"]}i64_le_s(e,t){return[e,t,"i64.le_s"]}i64_le_u(e,t){return[e,t,"i64.le_u"]}i64_ge_s(e,t){return[e,t,"i64.ge_s"]}i64_ge_u(e,t){return[e,t,"i64.ge_u"]}i64_add(e,t){return[e,t,"i64.add"]}i64_sub(e,t){return[e,t,"i64.sub"]}i64_mul(e,t){return[e,t,"i64.mul"]}i64_div_s(e,t){return[e,t,"i64.div_s"]}i64_div_u(e,t){return[e,t,"i64.div_u"]}i64_rem_s(e,t){return[e,t,"i64.rem_s"]}i64_rem_u(e,t){return[e,t,"i64.rem_u"]}i64_and(e,t){return[e,t,"i64.and"]}i64_or(e,t){return[e,t,"i64.or"]}i64_xor(e,t){return[e,t,"i64.xor"]}i64_shl(e,t){return[e,t,"i64.shl"]}i64_shr_s(e,t){return[e,t,"i64.shr_s"]}i64_shr_u(e,t){return[e,t,"i64.shr_u"]}i64_extend_i32_s(e){return[e,"i64.extend_s/i32"]}i64_extend_i32_u(e){return[e,"i64.extend_u/i32"]}i32_eqz(e){return[e,"i32.eqz"]}i32_eq(e,t){return[e,t,"i32.eq"]}i32_ne(e,t){return[e,t,"i32.ne"]}i32_lt_s(e,t){return[e,t,"i32.lt_s"]}i32_lt_u(e,t){return[e,t,"i32.lt_u"]}i32_gt_s(e,t){return[e,t,"i32.gt_s"]}i32_gt_u(e,t){return[e,t,"i32.gt_u"]}i32_le_s(e,t){return[e,t,"i32.le_s"]}i32_le_u(e,t){return[e,t,"i32.le_u"]}i32_ge_s(e,t){return[e,t,"i32.ge_s"]}i32_ge_u(e,t){return[e,t,"i32.ge_u"]}i32_add(e,t){return[e,t,"i32.add"]}i32_sub(e,t){return[e,t,"i32.sub"]}i32_mul(e,t){return[e,t,"i32.mul"]}i32_div_s(e,t){return[e,t,"i32.div_s"]}i32_div_u(e,t){return[e,t,"i32.div_u"]}i32_rem_s(e,t){return[e,t,"i32.rem_s"]}i32_rem_u(e,t){return[e,t,"i32.rem_u"]}i32_and(e,t){return[e,t,"i32.and"]}i32_or(e,t){return[e,t,"i32.or"]}i32_xor(e,t){return[e,t,"i32.xor"]}i32_shl(e,t){return[e,t,"i32.shl"]}i32_shr_s(e,t){return[e,t,"i32.shr_s"]}i32_shr_u(e,t){return[e,t,"i32.shr_u"]}i32_rotl(e,t){return[e,t,"i32.rotl"]}i32_rotr(e,t){return[e,t,"i32.rotr"]}i32_wrap_i64(e){return[e,"i32.wrap/i64"]}ureachable(){return"unreachable"}current_memory(){return"current_memory"}comment(e){return";; "+e}};let FunctionBuilderWat=class FunctionBuilderWat{constructor(e,t,i,r,n){if("import"==i)this.fnType="import",this.moduleName=r,this.fieldName=n;else if("internal"==i)this.fnType="internal",this.comment=r;else throw Error("Invalid function fnType: "+i);this.module=e,this.fnName=t,this.params=[],this.locals=[],this.localIdxByName={},this.code=[],this.returnType=null,this.nextLocal=0}addParam(e,t){if(this.localIdxByName[e])throw Error(`param already exists. Function: ${this.fnName}, Param: ${e} `);let i=this.nextLocal++;this.localIdxByName[e]=i,this.params.push({type:t,name:e})}addLocal(e,t,i){if(void 0!==i&&1!=i)throw Error("Locals greater than 1 not implemented");if(this.localIdxByName[e])throw Error(`local already exists. Function: ${this.fnName}, Param: ${e} `);let r=this.nextLocal++;this.localIdxByName[e]=r,this.locals.push({type:t,name:e})}setReturnType(e){if(this.returnType)throw Error(`returnType already defined. Function: ${this.fnName}`);this.returnType=e}getSignature(){let e="";for(let t=0;t<this.params.length;t++)0==t&&(e+=" (param"),e+=" "+this.params[t].type;""!=e&&(e+=")");let t="";return this.returnType&&(t+=` (result ${this.returnType})`),`(type $${this.getSignatureName()} (func ${e}${t}))`}getSignatureName(){let e="_sig_";for(let t=0;t<this.params.length;t++)e+=this.params[t].type;return this.returnType&&(e+="r"+this.returnType),e}getBody(){let e;let t=[];for(let e=0;e<this.params.length;e++)t.push(` (param $${this.params[e].name} ${this.params[e].type})`);this.returnType&&t.push(`(result ${this.returnType})`);for(let e=0;e<this.locals.length;e++)t.push(` (local $${this.locals[e].name} ${this.locals[e].type})`);if(t.push(this.code),this.comment){e=this.comment.split("\n");for(let t=0;t<e.length;t++)e[t]=";; "+e[t]}else e=[];return[...e,`(func $${this.fnName} (type $${this.getSignatureName()})`,ident(t),")"]}addCode(...e){this.code.push(e)}getCodeBuilder(){return new CodeBuilderWat(this)}};async function buildProtoboard(e,t,i){let r=new Protoboard;r.defBytes=t,r.bitsPerBytes=i||32,r.memory=new WebAssembly.Memory({initial:2e4}),r.i32=new Uint32Array(r.memory.buffer),r.i8=new Uint8Array(r.memory.buffer);let n=new ModuleBuilder,a=n.addIimportFunction("debug_log32","debug","log32");a.addParam("x","i32");let s=n.addIimportFunction("debug_log64","debug","log64");s.addParam("x","i32"),s.addParam("y","i32"),function(e){let t=e.addFunction("log32");t.addParam("x","i32");let i=t.getCodeBuilder();t.addCode(i.call("debug_log32",i.getLocal("x")))}(n),function(e){let t=e.addFunction("log64");t.addParam("x","i64");let i=t.getCodeBuilder();t.addCode(i.call("debug_log64",i.i32_wrap_i64(i.getLocal("x")),i.i32_wrap_i64(i.i64_shr_u(i.getLocal("x"),i.i64_const(32)))))}(n),e(n,r);let o=n.build(),l=await WebAssembly.compile(o);return r.log=console.log,r.instance=await WebAssembly.instantiate(l,{env:{memory:r.memory},debug:{log32:function(e){e<0&&(e=4294967296+e);let t=e.toString(16);for(;t.length<8;)t="0"+t;r.log(t+": "+e.toString())},log64:function(e,t){e<0&&(e=4294967296+e),t<0&&(t=4294967296+t);let i=BigInt(e)+(BigInt(t)<<32n),n=i.toString(16);for(;n.length<16;)n="0"+n;r.log(n+": "+i.toString())}}}),Object.assign(r,r.instance.exports),Object.assign(r,n.modules),r}let Protoboard=class Protoboard{constructor(){}alloc(e){void 0===e&&(e=this.defBytes),e=(e-1>>3)+1<<3;let t=this.i32[0];return this.i32[0]+=e,t}set(e,t,i){Array.isArray(t)||(t=[t]),void 0===i&&(i=this.defBytes);let r=Math.floor((i-1)/4)+1,n=e,a=1n<<BigInt(this.bitsPerBytes);for(let e=0;e<t.length;e++){let i=BigInt(t[e]);for(let e=0;e<r;e++){let e=i/a,t=i%a;this.i32[n>>2]=Number(t),i=e,n+=4}if(0n!==i)throw Error("Expected v to be 0")}return e}get(e,t,i){void 0===i&&(t=void 0===t?1:i,i=this.defBytes);let r=Math.floor((i-1)/4)+1,n=1n<<BigInt(this.bitsPerBytes),a=[];for(let i=0;i<t;i++){let t=0n;for(let i=r-1;i>=0;i--){t*=n;let r=this.i32[(e>>2)+i];this.bitsPerBytes<32&&2147483648&r&&(r-=4294967296),t+=BigInt(r)}a.push(t),e+=4*r}return 1==a.length?a[0]:a}};t.ModuleBuilder=ModuleBuilder,t.ModuleBuilderWat=class{constructor(){this.functions=[],this.functionIdxByName={},this.nImportFunctions=0,this.nInternalFunctions=0,this.memory={pagesSize:1,moduleName:"env",fieldName:"memory"},this.free=8,this.datas=[],this.modules={},this.exports=[],this.functionsTable=[]}build(){let e=[];return this._setSignatures(),e.push(this._buildType()),e.push(this._buildImport()),this.functionsTable.length>0&&e.push(this._buildFunctionsTable()),this.exports.length>0&&e.push(this._buildExports()),this.functionsTable.length>0&&e.push(this._buildElements()),this.nInternalFunctions>0&&e.push(this._buildFunctions()),e.push(this._buildData()),["(module",ident(e),")"]}addFunction(e,t){if(void 0!==this.functionIdxByName[e])throw Error(`Function already defined: ${e}`);let i=this.functions.length;return this.functionIdxByName[e]=i,this.functions.push(new FunctionBuilderWat(this,e,"internal",t)),this.nInternalFunctions++,this.functions[i]}addIimportFunction(e,t,i){if(void 0!==this.functionIdxByName[e])throw Error(`Function already defined: ${e}`);if(this.functions.length>0&&"internal"==this.functions[this.functions.length-1].type)throw Error(`Import functions must be declared before internal: ${e}`);let r=i||e,n=this.functions.length;return this.functionIdxByName[e]=n,this.functions.push(new FunctionBuilderWat(this,e,"import",t,r)),this.nImportFunctions++,this.functions[n]}setMemory(e,t,i){this.memory={pagesSize:e,moduleName:t||"env",fieldName:i||"memory"}}exportFunction(e,t){let i=t||e;if(void 0===this.functionIdxByName[e])throw Error(`Function not defined: ${e}`);let r=this.functionIdxByName[e];i!=e&&(this.functionIdxByName[i]=r),this.exports.push({exportName:i,idx:r})}addFunctionToTable(e){let t=this.functionIdxByName[e];this.functionsTable.push(t)}addData(e,t){this.datas.push({offset:e,bytes:t})}alloc(e,t){let i,r;(Array.isArray(e)||ArrayBuffer.isView(e))&&void 0===t?(i=e.length,r=e):(i=e,r=t),i=(i-1>>3)+1<<3;let n=this.free;return this.free+=i,r&&this.addData(n,r),n}allocString(e){let t=new TextEncoder,i=t.encode(e);return this.alloc([...i,0])}_setSignatures(){this.signatures=[];let e={};if(this.functionsTable.length>0){let t=this.functions[this.functionsTable[0]].getSignature(),i=this.functions[this.functionsTable[0]].getSignatureName();e[i]=0,this.signatures.push(t)}for(let t=0;t<this.functions.length;t++){let i=this.functions[t].getSignature(),r=this.functions[t].getSignatureName();void 0===e[r]&&(e[r]=this.signatures.length,this.signatures.push(i)),this.functions[t].signatureIdx=e[r],this.functions[t].signatureName=r}}_buildType(){return this.signatures}_buildImport(){let e=[];e.push(`(import "${this.memory.moduleName}" "${this.memory.fieldName}" (memory ${this.memory.pagesSize}))`);for(let t=0;t<this.nImportFunctions;t++)e.push(`(import "${this.functions[t].moduleName}" "${this.functions[t].fieldName}" (func $${this.functions[t].fnName} (type $${this.functions[t].getSignatureName()})))`);return e}_buildFunctionsTable(){return`(table ${this.functionsTable.length} anyfunc)`}_buildElements(){let e="";for(let t=0;t<this.functionsTable.length;t++)e+=" $"+this.functions[this.functionsTable[t]].fnName;return`(elem (i32.const 0) ${e})`}_buildExports(){let e=[];for(let t=0;t<this.exports.length;t++)e.push(`(export "${this.exports[t].exportName}" (func $${this.functions[this.exports[t].idx].fnName}))`);return e}_buildFunctions(){let e=[];for(let t=this.nImportFunctions;t<this.nImportFunctions+this.nInternalFunctions;t++)e.push(this.functions[t].getBody());return e}_buildData(){let e=[],t=r.alloc(4);t.writeUInt32LE(this.free,0),e.push(`(data (i32.const 0) ${bytes2string(t)})`);for(let t=0;t<this.datas.length;t++)e.push(`(data (i32.const ${this.datas[t].offset}) ${bytes2string(this.datas[t].bytes)})`);return e;function bytes2string(e){let t='"';for(let i=0;i<e.length;i++)if(e[i]<32||e[i]>126||34==e[i]||92==e[i]){let r=e[i].toString(16);for(;r.length<2;)r="0"+r;t+="\\"+r}else t+=String.fromCharCode(e[i]);return t+'"'}}},t.buildProtoboard=buildProtoboard},33558:function(e){"use strict";e.exports={i8:"3.1.9"}},2454:function(e){"use strict";e.exports=JSON.parse('{"O_RDONLY":0,"O_WRONLY":1,"O_RDWR":2,"S_IFMT":61440,"S_IFREG":32768,"S_IFDIR":16384,"S_IFCHR":8192,"S_IFBLK":24576,"S_IFIFO":4096,"S_IFLNK":40960,"S_IFSOCK":49152,"O_CREAT":512,"O_EXCL":2048,"O_NOCTTY":131072,"O_TRUNC":1024,"O_APPEND":8,"O_DIRECTORY":1048576,"O_NOFOLLOW":256,"O_SYNC":128,"O_SYMLINK":2097152,"O_NONBLOCK":4,"S_IRWXU":448,"S_IRUSR":256,"S_IWUSR":128,"S_IXUSR":64,"S_IRWXG":56,"S_IRGRP":32,"S_IWGRP":16,"S_IXGRP":8,"S_IRWXO":7,"S_IROTH":4,"S_IWOTH":2,"S_IXOTH":1,"E2BIG":7,"EACCES":13,"EADDRINUSE":48,"EADDRNOTAVAIL":49,"EAFNOSUPPORT":47,"EAGAIN":35,"EALREADY":37,"EBADF":9,"EBADMSG":94,"EBUSY":16,"ECANCELED":89,"ECHILD":10,"ECONNABORTED":53,"ECONNREFUSED":61,"ECONNRESET":54,"EDEADLK":11,"EDESTADDRREQ":39,"EDOM":33,"EDQUOT":69,"EEXIST":17,"EFAULT":14,"EFBIG":27,"EHOSTUNREACH":65,"EIDRM":90,"EILSEQ":92,"EINPROGRESS":36,"EINTR":4,"EINVAL":22,"EIO":5,"EISCONN":56,"EISDIR":21,"ELOOP":62,"EMFILE":24,"EMLINK":31,"EMSGSIZE":40,"EMULTIHOP":95,"ENAMETOOLONG":63,"ENETDOWN":50,"ENETRESET":52,"ENETUNREACH":51,"ENFILE":23,"ENOBUFS":55,"ENODATA":96,"ENODEV":19,"ENOENT":2,"ENOEXEC":8,"ENOLCK":77,"ENOLINK":97,"ENOMEM":12,"ENOMSG":91,"ENOPROTOOPT":42,"ENOSPC":28,"ENOSR":98,"ENOSTR":99,"ENOSYS":78,"ENOTCONN":57,"ENOTDIR":20,"ENOTEMPTY":66,"ENOTSOCK":38,"ENOTSUP":45,"ENOTTY":25,"ENXIO":6,"EOPNOTSUPP":102,"EOVERFLOW":84,"EPERM":1,"EPIPE":32,"EPROTO":100,"EPROTONOSUPPORT":43,"EPROTOTYPE":41,"ERANGE":34,"EROFS":30,"ESPIPE":29,"ESRCH":3,"ESTALE":70,"ETIME":101,"ETIMEDOUT":60,"ETXTBSY":26,"EWOULDBLOCK":35,"EXDEV":18,"SIGHUP":1,"SIGINT":2,"SIGQUIT":3,"SIGILL":4,"SIGTRAP":5,"SIGABRT":6,"SIGIOT":6,"SIGBUS":10,"SIGFPE":8,"SIGKILL":9,"SIGUSR1":30,"SIGSEGV":11,"SIGUSR2":31,"SIGPIPE":13,"SIGALRM":14,"SIGTERM":15,"SIGCHLD":20,"SIGCONT":19,"SIGSTOP":17,"SIGTSTP":18,"SIGTTIN":21,"SIGTTOU":22,"SIGURG":16,"SIGXCPU":24,"SIGXFSZ":25,"SIGVTALRM":26,"SIGPROF":27,"SIGWINCH":28,"SIGIO":23,"SIGSYS":12,"SSL_OP_ALL":2147486719,"SSL_OP_ALLOW_UNSAFE_LEGACY_RENEGOTIATION":262144,"SSL_OP_CIPHER_SERVER_PREFERENCE":4194304,"SSL_OP_CISCO_ANYCONNECT":32768,"SSL_OP_COOKIE_EXCHANGE":8192,"SSL_OP_CRYPTOPRO_TLSEXT_BUG":2147483648,"SSL_OP_DONT_INSERT_EMPTY_FRAGMENTS":2048,"SSL_OP_EPHEMERAL_RSA":0,"SSL_OP_LEGACY_SERVER_CONNECT":4,"SSL_OP_MICROSOFT_BIG_SSLV3_BUFFER":32,"SSL_OP_MICROSOFT_SESS_ID_BUG":1,"SSL_OP_MSIE_SSLV2_RSA_PADDING":0,"SSL_OP_NETSCAPE_CA_DN_BUG":536870912,"SSL_OP_NETSCAPE_CHALLENGE_BUG":2,"SSL_OP_NETSCAPE_DEMO_CIPHER_CHANGE_BUG":1073741824,"SSL_OP_NETSCAPE_REUSE_CIPHER_CHANGE_BUG":8,"SSL_OP_NO_COMPRESSION":131072,"SSL_OP_NO_QUERY_MTU":4096,"SSL_OP_NO_SESSION_RESUMPTION_ON_RENEGOTIATION":65536,"SSL_OP_NO_SSLv2":16777216,"SSL_OP_NO_SSLv3":33554432,"SSL_OP_NO_TICKET":16384,"SSL_OP_NO_TLSv1":67108864,"SSL_OP_NO_TLSv1_1":268435456,"SSL_OP_NO_TLSv1_2":134217728,"SSL_OP_PKCS1_CHECK_1":0,"SSL_OP_PKCS1_CHECK_2":0,"SSL_OP_SINGLE_DH_USE":1048576,"SSL_OP_SINGLE_ECDH_USE":524288,"SSL_OP_SSLEAY_080_CLIENT_DH_BUG":128,"SSL_OP_SSLREF2_REUSE_CERT_TYPE_BUG":0,"SSL_OP_TLS_BLOCK_PADDING_BUG":512,"SSL_OP_TLS_D5_BUG":256,"SSL_OP_TLS_ROLLBACK_BUG":8388608,"ENGINE_METHOD_DSA":2,"ENGINE_METHOD_DH":4,"ENGINE_METHOD_RAND":8,"ENGINE_METHOD_ECDH":16,"ENGINE_METHOD_ECDSA":32,"ENGINE_METHOD_CIPHERS":64,"ENGINE_METHOD_DIGESTS":128,"ENGINE_METHOD_STORE":256,"ENGINE_METHOD_PKEY_METHS":512,"ENGINE_METHOD_PKEY_ASN1_METHS":1024,"ENGINE_METHOD_ALL":65535,"ENGINE_METHOD_NONE":0,"DH_CHECK_P_NOT_SAFE_PRIME":2,"DH_CHECK_P_NOT_PRIME":1,"DH_UNABLE_TO_CHECK_GENERATOR":4,"DH_NOT_SUITABLE_GENERATOR":8,"NPN_ENABLED":1,"RSA_PKCS1_PADDING":1,"RSA_SSLV23_PADDING":2,"RSA_NO_PADDING":3,"RSA_PKCS1_OAEP_PADDING":4,"RSA_X931_PADDING":5,"RSA_PKCS1_PSS_PADDING":6,"POINT_CONVERSION_COMPRESSED":2,"POINT_CONVERSION_UNCOMPRESSED":4,"POINT_CONVERSION_HYBRID":6,"F_OK":0,"R_OK":4,"W_OK":2,"X_OK":1,"UV_UDP_REUSEADDR":4}')}}]);